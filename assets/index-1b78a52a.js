var Ne=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var u=(e,t,s)=>(Ne(e,t,"read from private field"),s?s.call(e):t.get(e)),S=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},j=(e,t,s,r)=>(Ne(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);var C=(e,t,s)=>(Ne(e,t,"access private method"),s);import{S as Ot,s as De,l as Et,m as et,o as tt,t as Dt,p as Mt,q as It,v as st,n as xt,w as rt,x as Ft,y as $t,r as m,u as Ut,a as Ht,z as Vt,c as Me,A as Qt,j as a,R as pe,B as qt}from"./index-1d804f3d.js";import{t as zt,m as Wt,u as Kt,c as Gt,a as at,f as Jt,i as E,s as yt,j as nt,b as We,l as Te}from"./chunk-KRADFROI-cc52f54e.js";import{s as Zt,j as Xt,k as Pe,E as Re,h as bt,n as Yt,b as _e,c as es,d as ts,e as Oe,f as ss,g as rs}from"./axios-9c1847bc.js";import{t as ee,e as Ke,f as Ge,c as re,a as ae,b as ne,S as as,M as ns}from"./react-icons.esm-5e026f63.js";var O,A,J,_,Q,Z,M,oe,X,Y,q,z,V,W,K,ie,le,Ie,ce,Fe,de,$e,ue,Ue,he,He,fe,Ve,me,Qe,Se,jt,gt,vt=(gt=class extends Ot{constructor(t,s){super();S(this,K);S(this,le);S(this,ce);S(this,de);S(this,ue);S(this,he);S(this,fe);S(this,me);S(this,Se);S(this,O,void 0);S(this,A,void 0);S(this,J,void 0);S(this,_,void 0);S(this,Q,void 0);S(this,Z,void 0);S(this,M,void 0);S(this,oe,void 0);S(this,X,void 0);S(this,Y,void 0);S(this,q,void 0);S(this,z,void 0);S(this,V,void 0);S(this,W,void 0);j(this,A,void 0),j(this,J,void 0),j(this,_,void 0),j(this,W,new Set),j(this,O,t),this.options=s,j(this,M,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,A).addObserver(this),it(u(this,A),this.options)&&C(this,K,ie).call(this),C(this,ue,Ue).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qe(u(this,A),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qe(u(this,A),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,C(this,he,He).call(this),C(this,fe,Ve).call(this),u(this,A).removeObserver(this)}setOptions(t,s){const r=this.options,n=u(this,A);if(this.options=u(this,O).defaultQueryOptions(t),De(r,this.options)||u(this,O).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,A),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),C(this,me,Qe).call(this);const i=this.hasListeners();i&&ot(u(this,A),n,this.options,r)&&C(this,K,ie).call(this),this.updateResult(s),i&&(u(this,A)!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&C(this,le,Ie).call(this);const o=C(this,ce,Fe).call(this);i&&(u(this,A)!==n||this.options.enabled!==r.enabled||o!==u(this,V))&&C(this,de,$e).call(this,o)}getOptimisticResult(t){const s=u(this,O).getQueryCache().build(u(this,O),t),r=this.createResult(s,t);return os(this,r)&&(j(this,_,r),j(this,Z,this.options),j(this,Q,u(this,A).state)),r}getCurrentResult(){return u(this,_)}trackResult(t){const s={};return Object.keys(t).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(u(this,W).add(r),t[r])})}),s}getCurrentQuery(){return u(this,A)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=u(this,O).defaultQueryOptions(t),r=u(this,O).getQueryCache().build(u(this,O),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(t){return C(this,K,ie).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,_)))}createResult(t,s){var I;const r=u(this,A),n=this.options,i=u(this,_),o=u(this,Q),l=u(this,Z),h=t!==r?t.state:u(this,J),{state:c}=t;let{error:f,errorUpdatedAt:p,fetchStatus:x,status:g}=c,B=!1,R;if(s._optimisticResults){const k=this.hasListeners(),G=!k&&it(t,s),Ce=k&&ot(t,r,s,n);(G||Ce)&&(x=It(t.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(g="pending")),s._optimisticResults==="isRestoring"&&(x="idle")}if(s.select&&typeof c.data<"u")if(i&&c.data===(o==null?void 0:o.data)&&s.select===u(this,oe))R=u(this,X);else try{j(this,oe,s.select),R=s.select(c.data),R=st(i==null?void 0:i.data,R,s),j(this,X,R),j(this,M,null)}catch(k){j(this,M,k)}else R=c.data;if(typeof s.placeholderData<"u"&&typeof R>"u"&&g==="pending"){let k;if(i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))k=i.data;else if(k=typeof s.placeholderData=="function"?s.placeholderData((I=u(this,Y))==null?void 0:I.state.data,u(this,Y)):s.placeholderData,s.select&&typeof k<"u")try{k=s.select(k),j(this,M,null)}catch(G){j(this,M,G)}typeof k<"u"&&(g="success",R=st(i==null?void 0:i.data,k,s),B=!0)}u(this,M)&&(f=u(this,M),R=u(this,X),p=Date.now(),g="error");const b=x==="fetching",y=g==="pending",w=g==="error",P=y&&b;return{status:g,fetchStatus:x,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:P,isLoading:P,data:R,dataUpdatedAt:c.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>h.dataUpdateCount||c.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:w&&c.dataUpdatedAt===0,isPaused:x==="paused",isPlaceholderData:B,isRefetchError:w&&c.dataUpdatedAt!==0,isStale:Je(t,s),refetch:this.refetch}}updateResult(t){const s=u(this,_),r=this.createResult(u(this,A),this.options);if(j(this,Q,u(this,A).state),j(this,Z,this.options),De(r,s))return;u(this,Q).data!==void 0&&j(this,Y,u(this,A)),j(this,_,r);const n={},i=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!u(this,W).size)return!0;const d=new Set(l??u(this,W));return this.options.throwOnError&&d.add("error"),Object.keys(u(this,_)).some(h=>{const c=h;return u(this,_)[c]!==s[c]&&d.has(c)})};(t==null?void 0:t.listeners)!==!1&&i()&&(n.listeners=!0),C(this,Se,jt).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&C(this,ue,Ue).call(this)}},O=new WeakMap,A=new WeakMap,J=new WeakMap,_=new WeakMap,Q=new WeakMap,Z=new WeakMap,M=new WeakMap,oe=new WeakMap,X=new WeakMap,Y=new WeakMap,q=new WeakMap,z=new WeakMap,V=new WeakMap,W=new WeakMap,K=new WeakSet,ie=function(t){C(this,me,Qe).call(this);let s=u(this,A).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Et)),s},le=new WeakSet,Ie=function(){if(C(this,he,He).call(this),et||u(this,_).isStale||!tt(this.options.staleTime))return;const s=Dt(u(this,_).dataUpdatedAt,this.options.staleTime)+1;j(this,q,setTimeout(()=>{u(this,_).isStale||this.updateResult()},s))},ce=new WeakSet,Fe=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,A)):this.options.refetchInterval)??!1},de=new WeakSet,$e=function(t){C(this,fe,Ve).call(this),j(this,V,t),!(et||this.options.enabled===!1||!tt(u(this,V))||u(this,V)===0)&&j(this,z,setInterval(()=>{(this.options.refetchIntervalInBackground||Mt.isFocused())&&C(this,K,ie).call(this)},u(this,V)))},ue=new WeakSet,Ue=function(){C(this,le,Ie).call(this),C(this,de,$e).call(this,C(this,ce,Fe).call(this))},he=new WeakSet,He=function(){u(this,q)&&(clearTimeout(u(this,q)),j(this,q,void 0))},fe=new WeakSet,Ve=function(){u(this,z)&&(clearInterval(u(this,z)),j(this,z,void 0))},me=new WeakSet,Qe=function(){const t=u(this,O).getQueryCache().build(u(this,O),this.options);if(t===u(this,A))return;const s=u(this,A);j(this,A,t),j(this,J,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Se=new WeakSet,jt=function(t){xt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(u(this,_))}),u(this,O).getQueryCache().notify({query:u(this,A),type:"observerResultsUpdated"})})},gt);function is(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function it(e,t){return is(e,t)||e.state.dataUpdatedAt>0&&qe(e,t,t.refetchOnMount)}function qe(e,t,s){if(t.enabled!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Je(e,t)}return!1}function ot(e,t,s,r){return s.enabled!==!1&&(e!==t||r.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&Je(e,s)}function Je(e,t){return e.isStaleByTime(t.staleTime)}function os(e,t){return!De(e.getCurrentResult(),t)}var ls=class extends vt{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:rt()},t)}getOptimisticResult(e){return e.behavior=rt(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var d,h,c,f;const{state:s}=e,r=super.createResult(e,t),{isFetching:n,isRefetching:i}=r,o=n&&((h=(d=s.fetchMeta)==null?void 0:d.fetchMore)==null?void 0:h.direction)==="forward",l=n&&((f=(c=s.fetchMeta)==null?void 0:c.fetchMore)==null?void 0:f.direction)==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ft(t,s.data),hasPreviousPage:$t(t,s.data),isFetchingNextPage:o,isFetchingPreviousPage:l,isRefetching:i&&!o&&!l}}},wt=m.createContext(!1),cs=()=>m.useContext(wt);wt.Provider;function ds(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var us=m.createContext(ds()),hs=()=>m.useContext(us),fs=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},ms=e=>{m.useEffect(()=>{e.clearReset()},[e])},ps=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&Zt(s,[e.error,r]),gs=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},xs=(e,t)=>e.isLoading&&e.isFetching&&!t,ys=(e,t,s)=>(e==null?void 0:e.suspense)&&xs(t,s),bs=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function At(e,t,s){const r=Ut(s),n=cs(),i=hs(),o=r.defaultQueryOptions(e);o._optimisticResults=n?"isRestoring":"optimistic",gs(o),fs(o,i),ms(i);const[l]=m.useState(()=>new t(r,o)),d=l.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(h=>{const c=n?()=>{}:l.subscribe(xt.batchCalls(h));return l.updateResult(),c},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),ys(o,d,n))throw bs(o,l,i);if(ps({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:l.getCurrentQuery()}))throw d.error;return o.notifyOnChangeProps?d:l.trackResult(d)}function Ze(e,t){return At(e,vt,t)}function vs(e,t){return At(e,ls,t)}var lt=zt({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient bg-[length:1.25rem_1.25rem]"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1,disableAnimation:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}}]},{twMerge:!1});function js(e,t=100){return Math.min(Math.max(e,0),t)}function ws(e={}){const{rerender:t=!1,delay:s=0}=e,r=m.useRef(!1),[n,i]=m.useState(!1);return m.useEffect(()=>{r.current=!0;let o=null;return t&&(s>0?o=setTimeout(()=>{i(!0)},s):i(!0)),()=>{r.current=!1,t&&i(!1),o&&clearTimeout(o)}},[t]),[m.useCallback(()=>r.current,[]),n]}function As(e){let{value:t=0,minValue:s=0,maxValue:r=100,valueLabel:n,isIndeterminate:i,formatOptions:o={style:"percent"}}=e,l=Ht(e,{labelable:!0}),{labelProps:d,fieldProps:h}=Xt({...e,labelElementType:"span"});t=Qt(t,s,r);let c=(t-s)/(r-s),f=Vt(o);if(!i&&!n){let p=o.style==="percent"?c:t;n=f.format(p)}return{progressBarProps:Me(l,{...h,"aria-valuenow":i?void 0:t,"aria-valuemin":s,"aria-valuemax":r,"aria-valuetext":i?void 0:n,role:"progressbar"}),labelProps:d}}function Ss(e){const[t,s]=Wt(e,lt.variantKeys),{ref:r,as:n,id:i,className:o,classNames:l,label:d,valueLabel:h,value:c=0,minValue:f=0,maxValue:p=100,showValueLabel:x=!1,formatOptions:g={style:"percent"},...B}=t,R=n||"div",b=Kt(r),y=Gt(l==null?void 0:l.base,o),[,w]=ws({rerender:!0,delay:100}),P=e.isIndeterminate,{progressBarProps:D,labelProps:I}=As({id:i,label:d,value:c,minValue:f,maxValue:p,valueLabel:h,formatOptions:g,isIndeterminate:P,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"]}),k=m.useMemo(()=>lt({...s}),[...Object.values(s)]),G=e.disableAnimation?!0:w,Ce=m.useMemo(()=>P||!G?void 0:js((c-f)/(p-f)*100),[G,P,c,f,p]),Tt=m.useCallback((Le={})=>({ref:b,"data-indeterminate":at(P),"data-disabled":at(e.isDisabled),className:k.base({class:y}),...Me(D,B,Le)}),[b,k,P,e.isDisabled,y,D,B]),_t=m.useCallback((Le={})=>({className:k.label({class:l==null?void 0:l.label}),...Me(I,Le)}),[k,l,I]);return{Component:R,domRef:b,slots:k,classNames:l,label:d,percentage:Ce,showValueLabel:x,getProgressBarProps:Tt,getLabelProps:_t}}var St=Jt((e,t)=>{const{Component:s,slots:r,classNames:n,label:i,percentage:o,showValueLabel:l,getProgressBarProps:d,getLabelProps:h}=Ss({...e,ref:t}),c=d(),f=i||l;return a.jsxs(s,{...c,children:[f?a.jsxs("div",{className:r.labelWrapper({class:n==null?void 0:n.labelWrapper}),children:[i&&a.jsx("span",{...h(),children:i}),l&&a.jsx("span",{className:r.value({class:n==null?void 0:n.value}),children:c["aria-valuetext"]})]}):null,a.jsx("div",{className:r.track({class:n==null?void 0:n.track}),children:a.jsx("div",{className:r.indicator({class:n==null?void 0:n.indicator}),style:{transform:`translateX(-${100-(o||0)}%)`}})})]})});St.displayName="NextUI.Progress";var we=St;function Ps(e,t){if(t===e)return!1;const s=Object.values(t),r=Object.values(e);if(s.length!==r.length||s.some((i,o)=>i!==r[o]))return!0;const n=Object.keys(e);return Object.keys(t).some((i,o)=>i!==n[o])}function Rs(e,t){return e.matches[t]=!1,e.mediaQueries[t]={},e}function Pt(e){const t=Object.keys(e);return typeof window>"u"?t.reduce(Rs,{mediaQueries:{},matches:{}}):t.reduce((s,r)=>{const n=window.matchMedia(e[r]);return s.mediaQueries[r]=n,s.matches[r]=n.matches,s},{mediaQueries:{},matches:{}})}function Bs(e,t){function s(r,n){return r[n]=e.mediaQueries[n].matches,r}switch(t.type){case"updateMatches":return{matches:Object.keys(e.mediaQueries).reduce(s,{}),mediaQueries:e.mediaQueries};case"setQueries":return Pt(t.queries)}}function ks(e){const t=m.useRef(e),[s,r]=m.useReducer(Bs,e,Pt);m.useEffect(()=>{Ps(e,t.current)&&(r({type:"setQueries",queries:e}),t.current=e)},[e]);function n(){return r({type:"updateMatches"})}function i(d){const h=n;return typeof d.addListener<"u"?d.addListener(h):d.addEventListener("change",h),h}m.useEffect(()=>{const d=Object.values(s.mediaQueries),h=d.map(i);function c(f,p){typeof f.addListener<"u"?f.removeListener(h[p]):f.removeEventListener("change",h[p])}return()=>{d.forEach(c)}},[s.mediaQueries]);const{matches:o}=s,l=m.useMemo(()=>Object.values(o),[o]);return{matches:o,matchesAny:l.some(Boolean),matchesAll:l.length>0&&l.every(Boolean)}}function Ae(){return Intl.NumberFormat("en",{notation:"compact",maximumFractionDigits:2})}function te(e,t){return parseFloat((t/e*100).toFixed(2))}function L(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}const Xe={"Armor Leg Right":"ArmorLegUpperRight","Armor Hand Left":"ArmorHandLeft","Armor Hand Right":"ArmorHandRight","Armor Leg Left":"ArmorLegUpperLeft","Armor Chest":"ArmorChestUpper","Armor Arm Right":"ArmorArmUpperRight","Armor Arm Left":"ArmorArmUpperLeft","Armor Head":"ArmorHead","Body Leg Right":"BodyLegUpperRight","Body Hand Left":"BodyHandLeft","Body Hand Right":"BodyHandRight","Body Leg Left":"BodyLegUpperLeft","Body Chest":"BodyChestUpper","Body Arm Right":"BodyArmUpperRight","Body Arm Left":"BodyArmUpperLeft","Body Head":"BodyHead","Skeleton Leg Right":"SkeletonLegUpperRight","Skeleton Hand Left":"SkeletonHandLeft","Skeleton Hand Right":"SkeletonHandRight","Skeleton Leg Left":"SkeletonLegUpperLeft","Skeleton Chest":"SkeletonChestUpper","Skeleton Arm Right":"SkeletonArmUpperRight","Skeleton Arm Left":"SkeletonArmUpperLeft","Skeleton Head":"SkeletonHead"},je={MoonBeam:{name:"MoonBeam",type:"Burst"},Fragmentize:{name:"Fragmentize",type:"Burst"},SkullBash:{name:"SkullBash",type:"Burst"},RazorWind:{name:"RazorWind",type:"Burst"},WhipOfLightning:{name:"WhipOfLightning",type:"Burst"},ClanshipBarrage:{name:"BurstCount",type:"Burst"},PurifyingBlast:{name:"Purify",type:"Burst"},PsychicShackles:{name:"LimbBurst",type:"Burst"},FlakShot:{name:"FlakShot",type:"Burst"},CosmicHaymaker:{name:"Haymaker",type:"Burst"},ChainOfVengeance:{name:"ChainLightning",type:"Burst"},MirrorForce:{name:"MirrorForce",type:"Burst"},CelestialStatic:{name:"CelestialStatic",type:"Burst"},BlazingInferno:{name:"BurningAttack",type:"Affliction"},AcidDrench:{name:"PoisonAttack",type:"Affliction"},DecayingStrike:{name:"DecayingAttack",type:"Affliction"},FusionBomb:{name:"Fuse",type:"Affliction"},GrimShadow:{name:"Shadow",type:"Affliction"},ThrivingPlague:{name:"PlagueAttack",type:"Affliction"},Radioactivity:{name:"Disease",type:"Affliction"},RavenousSwarm:{name:"Swarm",type:"Affliction"},RuinousRain:{name:"RuinousRust",type:"Affliction"},CorrosiveBubbles:{name:"PowerBubble",type:"Affliction"},Maelstrom:{name:"RuneAttack",type:"Affliction"},CrushingInstinct:{name:"ExecutionersAxe",type:"Support"},InsanityVoid:{name:"CrushingVoid",type:"Support"},RancidGas:{name:"MentalFocus",type:"Support"},InspiringForce:{name:"ImpactAttack",type:"Support"},SoulFire:{name:"InnerTruth",type:"Support"},VictoryMarch:{name:"FinisherAttack",type:"Support"},PrismaticRift:{name:"SuperheatMetal",type:"Support"},AncestralFavor:{name:"BurstBoost",type:"Support"},GraspingVines:{name:"LimbSupport",type:"Support"},TotemOfPower:{name:"TotemFairySkill",type:"Support"},TeamTactics:{name:"TeamTactics",type:"Support"},SkeletalSmash:{name:"SpinalTap",type:"Support"},AstralEcho:{name:"AstralEcho",type:"Support"},TapDamage:{name:"TapDamage",type:"Support"},Wildcard:{name:"Wildcard",type:"Support"}},Cs="../assets/cards",Ls="../assets/cardTypes",Ns=e=>je[Rt(e)].type,Rt=e=>Object.keys(je).find(t=>je[t].name===e)??je.Wildcard.name,Ts=({name:e})=>e!=="TapDamage";function _s({id:e,sources:t}){return a.jsx("div",{className:"items-center flex justify-center h-auto w-max-content gap-1",children:t.filter(Ts).map(({name:s,value:r},n)=>a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute z-20 inset-x-0 -left-1 -top-1",children:a.jsx(E,{src:L(Ns(s),Ls),className:"w-full h-full h-4 w-4 sm:h-6 sm:w-6"},e+s+r+"image")},e+s+r+n+"span"),a.jsx(E,{src:L(Rt(s),Cs),className:"rounded flex object-cover w-full h-full h-8 w-8 sm:h-16 sm:w-16"},e+s+n+"image"),a.jsx("span",{className:"absolute z-10 inset-x-0 bottom-0 text-white bg-black/50 text-tiny rounded-b text-right pr-1",children:r},e+r+n+"span")]},e+s+r+n+"container"))})}const Os=pe.memo(_s),N=e=>e?Ae().format(e.value):"--",T=(e,t)=>t.find(s=>s.name===Xe[e]),F=(e,t)=>t==null?void 0:t.find(s=>s.name===Xe[e]&&s.cursed),v=(e,t)=>t==null?void 0:t.find(s=>s.name===Xe[e]),Es={BodyDamagePerCurse:"bg-yellow-500/20 border-yellow-500 dark:bg-yellow-500/30 dark:border-body-curse",AfflictedDamagePerCurse:"bg-purple-500/20 border-purple-500 dark:bg-purple-500/30 dark:border-afflict-curse",BurstDamagePerCurse:"bg-red-500/20 border-red-500 dark:bg-red-500/30 dark:border-burst-curse"},$=(e,t)=>{if(!(!t||!e))return Es[t]},Ds="border-zinc-600/50 bg-zinc-500/20 text-zinc-500/50 dark:bg-zinc-500/20 dark:text-zinc-500/80",Ms="border-gray-400 bg-gray-400/30 dark:bg-gray-400/40",Is="border-sky-500 bg-sky-500/20 dark:bg-sky-500/40",Fs=" text-black dark:text-white",$s=" text-red-500",Bt=(e,t,s,r)=>{let n="";return t?n=n.concat(t):s?n=n.concat(Ds):n=n.concat(e==="Armor"?Ms:Is),s||(n=n.concat(r?$s:Fs)),n};function U({text:e,cursedColor:t,isOffstratPart:s,sequenceParts:r}){const n=Math.sign(parseInt(e,10))<1,i=Bt("Armor",t,s,n);let o=0;return r&&(o=te(r.health,r.current_health)),a.jsx(ee,{showArrow:!0,content:`${o}%`,children:a.jsxs("div",{className:`${i} w-full col-span-1 row-span-1 border-solid border-3 rounded-md font-semibold subpixel-antialiased min-w-[80px]`,children:[e,a.jsx(we,{"aria-label":"Titan armor part health...",value:o,className:"max-w-md px-1 pb-1",size:"sm",color:s?"default":"primary",isDisabled:s})]})})}function H({text:e,isOffstratPart:t,sequenceParts:s}){const r=Math.sign(parseInt(e,10))<1,n=Bt("Body",void 0,t,r);let i=0;return s&&(i=te(s.health,s.current_health)),a.jsx(ee,{showArrow:!0,content:`${i}%`,children:a.jsxs("div",{className:`${n} w-full col-span-1 row-span-1 border border-3 rounded-md font-semibold subpixel-antialiased min-w-[80px]`,children:[e,a.jsx(we,{"aria-label":"Titan body part health...",value:i,className:"max-w-md px-1 pb-1",size:"sm",color:t?"default":"primary",isDisabled:t})]})})}const Us={Jukk:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Jukk-5e17daf5.webp')]",Klonk:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Klonk-0b1a8f82.webp')]",Lojak:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Lojak-3ff6694b.webp')]",Mohaca:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Mohaca-9685de65.webp')]",Priker:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Priker-359c25d5.webp')]",Sterl:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Sterl-72f3a3ad.webp')]",Takedar:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Takedar-6cf45888.webp')]",Terro:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Terro-74c392e8.webp')]"};function Hs({parts:e,titanData:t}){var i,o,l,d,h,c,f,p,x,g,B,R,b,y,w,P;const{curse_type:s,parts:r,name:n}=t;return a.jsxs("div",{className:`${Us[n]} text-center w-72 min-w-fit mx-auto relative before:bg-cover before:bg-center before:bg-no-repeat before:absolute before:top-0 before:left-0 before:right-0 before:bottom-0 before:opacity-[15%] before:z-0`,children:[a.jsxs("div",{className:"grid gap-x-3 gap-y-1 grid-cols-3",children:[a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Arm Right",e)),cursedColor:$(F("Armor Arm Right",r),s),isOffstratPart:!((i=v("Armor Arm Right",r))!=null&&i.target),sequenceParts:v("Armor Arm Right",r)}),a.jsx(H,{text:N(T("Body Arm Right",e)),isOffstratPart:!((o=v("Body Arm Right",r))!=null&&o.target),sequenceParts:v("Body Arm Right",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Head",e)),cursedColor:$(F("Armor Head",r),s),isOffstratPart:!((l=v("Armor Head",r))!=null&&l.target),sequenceParts:v("Armor Head",r)}),a.jsx(H,{text:N(T("Body Head",e)),isOffstratPart:!((d=v("Body Head",r))!=null&&d.target),sequenceParts:v("Body Head",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Arm Left",e)),cursedColor:$(F("Armor Arm Left",r),s),isOffstratPart:!((h=v("Armor Arm Left",r))!=null&&h.target),sequenceParts:v("Armor Arm Left",r)}),a.jsx(H,{text:N(T("Body Arm Left",e)),isOffstratPart:!((c=v("Body Arm Left",r))!=null&&c.target),sequenceParts:v("Body Arm Left",r)})]})]}),a.jsxs("div",{className:"grid gap-x-3 gap-y-1 my-6 grid-cols-3",children:[a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Hand Right",e)),cursedColor:$(F("Armor Hand Right",r),s),isOffstratPart:!((f=v("Armor Hand Right",r))!=null&&f.target),sequenceParts:v("Armor Hand Right",r)}),a.jsx(H,{text:N(T("Body Hand Right",e)),isOffstratPart:!((p=v("Body Hand Right",r))!=null&&p.target),sequenceParts:v("Body Hand Right",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Chest",e)),cursedColor:$(F("Armor Chest",r),s),isOffstratPart:!((x=v("Armor Chest",r))!=null&&x.target),sequenceParts:v("Armor Chest",r)}),a.jsx(H,{text:N(T("Body Chest",e)),isOffstratPart:!((g=v("Body Chest",r))!=null&&g.target),sequenceParts:v("Body Chest",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Hand Left",e)),cursedColor:$(F("Armor Hand Left",r),s),isOffstratPart:!((B=v("Armor Hand Left",r))!=null&&B.target),sequenceParts:v("Armor Hand Left",r)}),a.jsx(H,{text:N(T("Body Hand Left",e)),isOffstratPart:!((R=v("Body Hand Left",r))!=null&&R.target),sequenceParts:v("Body Hand Left",r)})]})]}),a.jsxs("div",{className:"grid gap-x-3 gap-y-1 mx-12 items-center grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Leg Right",e)),cursedColor:$(F("Armor Leg Right",r),s),isOffstratPart:!((b=v("Armor Leg Right",r))!=null&&b.target),sequenceParts:v("Armor Leg Right",r)}),a.jsx(H,{text:N(T("Body Leg Right",e)),isOffstratPart:!((y=v("Body Leg Right",r))!=null&&y.target),sequenceParts:v("Body Leg Right",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:N(T("Armor Leg Left",e)),cursedColor:$(F("Armor Leg Left",r),s),isOffstratPart:!((w=v("Armor Leg Left",r))!=null&&w.target),sequenceParts:v("Armor Leg Left",r)}),a.jsx(H,{text:N(T("Body Leg Left",e)),isOffstratPart:!((P=v("Body Leg Left",r))!=null&&P.target),sequenceParts:v("Body Leg Left",r)})]})]})]})}const Vs=pe.memo(Hs),ge="../assets/cards",ct=(e,t)=>{const s=e.parts.filter(l=>l.target&&l.name.includes(t)),r=s.reduce((l,d)=>l+d.health,0),n=s.reduce((l,d)=>l+d.current_health,0),i=e.health-r+n,o=t==="Armor"?te(r,n):te(e.health,i);return Math.abs(o)},dt=(e,t)=>{const s=e.parts.filter(l=>l.target&&l.name.includes(t)),r=s.reduce((l,d)=>l+d.health,0),n=s.reduce((l,d)=>l+d.current_health,0),i=e.health-r+n;return t==="Armor"?n:i};function Qs({titanArmourHealthPercentage:e,titanBodyHealthPercentage:t,titanArmourHealthValue:s,titanBodyHealthValue:r}){const n=s<0,i=r<0;return a.jsxs("div",{className:"flex flex-col items-center w-72 mx-auto",children:[a.jsx(yt,{}),a.jsx(ee,{showArrow:!0,isDisabled:n,content:`${Ae().format(s)} remaining`,children:a.jsx(we,{label:"Armor",showValueLabel:!0,"aria-label":"Titan total armour...",value:e,className:"max-w-md px-1 pb-1",size:"md",color:"default",isStriped:!0})}),a.jsx(ee,{showArrow:!0,isDisabled:i,content:`${Ae().format(r)} remaining`,children:a.jsx(we,{label:"Body",showValueLabel:!0,"aria-label":"Titan total health...",value:t,className:"max-w-md px-1 pb-1",size:"md",color:"primary",isStriped:!0})})]})}function Ye({titan:e,parts:t,showConditionalSection:s=!1}){const r=e.parts.filter(p=>p.target),n=r.filter(p=>p.name.includes("Armor")),i=r.filter(p=>p.name.includes("Body")),o=()=>({curse_type:e.curse_type,parts:e.parts,id:e.id,name:e.name}),l=()=>{if(!s)return!1;const p=n.every(B=>B.current_health<=0);return i.filter(B=>B.current_health<=0).length<=i.length/2&&p},d=()=>s?i.filter(g=>g.current_health<=0).length===i.length-1:!1,h=()=>s?r.some(x=>{const g=te(x.health,x.current_health);return x.current_health>0&&g<=30}):!1,c=()=>{if(!s)return!1;const p=i.some(g=>g.current_health<=0),x=n.some(g=>g.current_health>0);return p&&x},f=[d(),l(),c(),h()].some(Boolean);return a.jsxs("div",{className:"flex flex-col gap-8 flex-wrap",children:[a.jsx("h2",{className:"font-medium text-center",children:e.name}),a.jsx(Vs,{parts:t,titanData:o()}),a.jsx(Qs,{titanArmourHealthPercentage:ct(e,"Armor"),titanBodyHealthPercentage:ct(e,"Body"),titanArmourHealthValue:dt(e,"Armor"),titanBodyHealthValue:dt(e,"Body")}),a.jsxs("div",{className:`flex flex-col gap-2 bg-neutral-400/40 rounded-xl px-4 py-2 mx-auto ${f?"block":"hidden"}`,children:[a.jsx("span",{className:"text-sm font-medium",children:"Active conditional cards"}),a.jsxs("div",{className:"flex flex-row gap-1",children:[d()?a.jsx(E,{src:L("VictoryMarch",ge),width:36,radius:"md"}):null,l()?a.jsx(E,{src:L("InsanityVoid",ge),width:36,radius:"md"}):null,c()?a.jsx(E,{src:L("SkeletalSmash",ge),width:36,radius:"md"}):null,h()?a.jsx(E,{src:L("DecayingStrike",ge),width:36,radius:"md"}):null]})]})]})}const ut=e=>{let t;const s=new Set,r=(d,h)=>{const c=typeof d=="function"?d(t):d;if(!Object.is(c,t)){const f=t;t=h??(typeof c!="object"||c===null)?c:Object.assign({},t,c),s.forEach(p=>p(t,f))}},n=()=>t,l={setState:r,getState:n,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{s.clear()}};return t=e(r,n,l),l},qs=e=>e?ut(e):ut;var kt={exports:{}},Ct={},Lt={exports:{}},Nt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se=m;function zs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ws=typeof Object.is=="function"?Object.is:zs,Ks=se.useState,Gs=se.useEffect,Js=se.useLayoutEffect,Zs=se.useDebugValue;function Xs(e,t){var s=t(),r=Ks({inst:{value:s,getSnapshot:t}}),n=r[0].inst,i=r[1];return Js(function(){n.value=s,n.getSnapshot=t,Ee(n)&&i({inst:n})},[e,s,t]),Gs(function(){return Ee(n)&&i({inst:n}),e(function(){Ee(n)&&i({inst:n})})},[e]),Zs(s),s}function Ee(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ws(e,s)}catch{return!0}}function Ys(e,t){return t()}var er=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ys:Xs;Nt.useSyncExternalStore=se.useSyncExternalStore!==void 0?se.useSyncExternalStore:er;Lt.exports=Nt;var tr=Lt.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be=m,sr=tr;function rr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:rr,nr=sr.useSyncExternalStore,ir=Be.useRef,or=Be.useEffect,lr=Be.useMemo,cr=Be.useDebugValue;Ct.useSyncExternalStoreWithSelector=function(e,t,s,r,n){var i=ir(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=lr(function(){function d(x){if(!h){if(h=!0,c=x,x=r(x),n!==void 0&&o.hasValue){var g=o.value;if(n(g,x))return f=g}return f=x}if(g=f,ar(c,x))return g;var B=r(x);return n!==void 0&&n(g,B)?g:(c=x,f=B)}var h=!1,c,f,p=s===void 0?null:s;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,s,r,n]);var l=nr(e,i[0],i[1]);return or(function(){o.hasValue=!0,o.value=l},[l]),cr(l),l};kt.exports=Ct;var dr=kt.exports;const ur=qt(dr),{useDebugValue:hr}=pe,{useSyncExternalStoreWithSelector:fr}=ur;function mr(e,t=e.getState,s){const r=fr(e.subscribe,e.getState,e.getServerState||e.getState,t,s);return hr(r),r}const ht=e=>{const t=typeof e=="function"?qs(e):e,s=(r,n)=>mr(t,r,n);return Object.assign(s,t),s},pr=e=>e?ht(e):ht,gr=pr()(e=>({titans:[],currentTitan:null,setTitans:t=>e(()=>({titans:t})),setCurrentTitan:t=>e(()=>({currentTitan:t}))})),ke=gr;function xr({data:e}){const t=ke(s=>s.currentTitan);return t?a.jsx(Ke,{selectionMode:"multiple",children:e.map(({sources:s,damage:r,titan_attack_id:n,player_name:i,occurred_at:o,parts:l})=>a.jsx(Ge,{"aria-label":`${i} did ${r} damage at ${o}`,startContent:a.jsx(Os,{id:`${n}${o}${i}`,sources:s}),title:a.jsx("p",{className:"flex flex-row justify-between items-center pl-2",children:Ae().format(r)}),subtitle:a.jsxs("p",{className:"font-bold flex flex-row justify-between items-center pl-2",children:[i," ",a.jsx("span",{className:"font-light text-xs pl-2",children:new Date(o+"Z").toLocaleTimeString([],{timeStyle:"short"})})]}),children:a.jsx(Ye,{titan:t,parts:l})},n))}):null}const yr=pe.memo(xr);var ze=new Map,xe=new WeakMap,ft=0,br=void 0;function vr(e){return e?(xe.has(e)||(ft+=1,xe.set(e,ft.toString())),xe.get(e)):"0"}function jr(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?vr(e.root):e[t]}`).toString()}function wr(e){let t=jr(e),s=ze.get(t);if(!s){const r=new Map;let n;const i=new IntersectionObserver(o=>{o.forEach(l=>{var d;const h=l.isIntersecting&&n.some(c=>l.intersectionRatio>=c);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=h),(d=r.get(l.target))==null||d.forEach(c=>{c(h,l)})})},e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),s={id:t,observer:i,elements:r},ze.set(t,s)}return s}function Ar(e,t,s={},r=br){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const d=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof s.threshold=="number"?s.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:n,observer:i,elements:o}=wr(s);let l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),ze.delete(n))}}function Sr({threshold:e,delay:t,trackVisibility:s,rootMargin:r,root:n,triggerOnce:i,skip:o,initialInView:l,fallbackInView:d,onChange:h}={}){var c;const[f,p]=m.useState(null),x=m.useRef(),[g,B]=m.useState({inView:!!l,entry:void 0});x.current=h,m.useEffect(()=>{if(o||!f)return;let w;return w=Ar(f,(P,D)=>{B({inView:P,entry:D}),x.current&&x.current(P,D),D.isIntersecting&&i&&w&&(w(),w=void 0)},{root:n,rootMargin:r,threshold:e,trackVisibility:s,delay:t},d),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,f,n,r,i,o,s,d,t]);const R=(c=g.entry)==null?void 0:c.target,b=m.useRef();!f&&R&&!i&&!o&&b.current!==R&&(b.current=R,B({inView:!!l,entry:void 0}));const y=[p,g.inView,g.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}function Pr({status:e,data:t,error:s,isFetching:r,isFetchingNextPage:n,fetchNextPage:i,hasNextPage:o}){var h;const{ref:l,inView:d}=Sr();return m.useEffect(()=>{d&&i()},[i,d]),e==="pending"?a.jsx(nt,{label:"Loading...",color:"primary"}):e==="error"?"An error has occurred: "+s.message:a.jsxs(a.Fragment,{children:[(h=t==null?void 0:t.pages)==null?void 0:h.map(({attack_logs:c},f)=>a.jsx(yr,{data:c},`raid-log-page-${f}`)),a.jsx("div",{children:a.jsx("button",{ref:l,onClick:()=>i(),disabled:!o||n,children:n?a.jsx(nt,{}):o?"Load Newer":"Nothing more to load"})}),a.jsx("div",{children:r&&!n?"Background Updating...":null})]})}const Rr=25;function Br(){return vs({queryKey:["raid_attacks"],refetchOnWindowFocus:!1,queryFn:async({pageParam:e=0})=>await Pe(Re.raid_attack_log.v2+"?offset="+e),initialPageParam:0,getNextPageParam:(e,t,s)=>{if(e.length!==0)return s+Rr}})}function kr(){return Ze({queryKey:["raid_list"],queryFn:async()=>await Pe(Re.raid_list)})}function Cr(){return Ze({queryKey:["raid_titans"],queryFn:async()=>await Pe(Re.titans)})}function Lr(){return Ze({queryKey:["cycle_data"],queryFn:async()=>await Pe(Re.cycle_data)})}function Nr({index:e,listLength:t,value:s}){const r=e!==t-1,n="➜";return a.jsxs("span",{className:"text-sm font-bold text-neutral-600/70 dark:text-neutral-50/70",children:[s,r?` ${n} `:null]},`${e}_morale-bonus_${s}`)}function Tr({bonus:e}){return a.jsx("div",{className:"flex flex-row flex-wrap gap-x-2",children:e.map((t,s)=>a.jsx(Nr,{index:s,value:t,listLength:e.length},`${s}_morale-bonus_${t}`))})}function _r({imageUrl:e,bonus:t,title:s}){const r=t[t.length-1];return a.jsx(re,{className:"dark:bg-default",children:a.jsx(Ke,{children:a.jsx(Ge,{"aria-label":`Accordion for displaying ${s} Info. Tap to open/close.`,title:a.jsxs(ae,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-row items-center justify-start gap-4",children:[a.jsx("div",{className:"min-w-fit",children:a.jsx(E,{src:e,className:"rounded-lg flex object-cover w-full h-full h-8 w-8"})}),a.jsx("h3",{className:"text-md font-medium",children:s})]}),a.jsxs("div",{className:"text-xl font-bold",children:[r,a.jsx("span",{className:"text-xs font-semibold",children:" %"})]})]}),children:a.jsx(ne,{className:"pt-0",children:a.jsx(Tr,{bonus:t})})},s)})})}const ye=pe.memo(_r),mt=e=>new Date(e+".000Z").toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}),Or=e=>["st","nd","rd"][((e+90)%100-10)%10-1]||"th",Er={ArmorDamage:"Armor Damage +25%",HeadDamage:"Head Damage +30%",BurstDamage:"Burst Damage +30%",AfflictedDamage:"Affliction Damage +30%",AllRaidDamage:"All Raid Damage +15%",BurstChance:"Burst Chance +30%",AfflictedDuration:"Affliction Duration +40%",ChestDamage:"Torso Damage +30%",LimbDamage:"Limb Damage +30%",AfflictedChance:"Affliction Chance +30%",RaidAttackDuration:"Attack Duration +3s",BodyDamage:"Body Damage +20%",SupportEffect:"All Support Effects +15%"},Dr="../assets",Mr="RaidIcon";function pt({raidCycle:e,raidData:t}){if(!t)return null;const{buff_type:s,level:r,raid_id:n,started_at:i,tier:o}=t,l=e?"":n;return a.jsx(re,{className:"dark:bg-default",children:a.jsx(Ke,{defaultExpandedKeys:[l],children:a.jsx(Ge,{"aria-label":"Accordion for displaying Raid Info. Tap to open/close.",title:a.jsxs(ae,{className:"flex flex-row items-center justify-between gap-4 mt-0",children:[a.jsxs("div",{className:"flex flex-row items-center justify-start gap-4",children:[a.jsx("div",{className:"min-w-fit",children:a.jsx(E,{src:L(Mr,Dr),className:"rounded-lg flex object-cover w-full h-full h-8 w-8"})}),a.jsxs("h3",{className:"text-md font-medium",children:[o==="9999"?"Master Tier ⦁ ":o," ",r]})]}),e&&a.jsxs("div",{className:"text-xl font-bold",children:[e.cycle,a.jsxs("span",{className:"text-sm font-semibold",children:[Or(e.cycle)," round"]})]})]}),children:a.jsxs(ne,{className:"pt-0",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"text-sm font-medium flex justify-between",children:[a.jsx("span",{children:"Raid Bonus"}),a.jsxs("span",{children:[Er[s]," "]})]}),a.jsxs("div",{className:"text-sm font-medium flex justify-between",children:[a.jsx("span",{children:"Raid start at "}),a.jsx(ee,{showArrow:!0,content:new Date(i).toUTCString(),children:a.jsx("span",{className:"text-sm font-medium",children:mt(i)})})]}),e&&a.jsxs("div",{className:"text-sm font-medium flex justify-between",children:[a.jsx("span",{children:"Next cycle at "}),a.jsx(ee,{showArrow:!0,content:new Date(e.next_reset_at).toUTCString(),children:a.jsx("span",{className:"text-sm font-medium",children:mt(e.next_reset_at)})})]})]}),a.jsx(yt,{y:4}),a.jsx("span",{className:"text-sm font-light text-right italic",children:"All times are local"})]})},n)})})}const be="../assets/cards";function Ir({titan:e}){if(!e)return null;const t=e.parts.filter(h=>h.target),s=t.filter(h=>h.name.includes("Armor")),r=t.filter(h=>h.name.includes("Body")),n=()=>{const h=s.every(p=>p.current_health<=0);return r.filter(p=>p.current_health<=0).length<=r.length/2&&h},i=()=>r.filter(f=>f.current_health<=0).length===r.length-1,o=()=>t.some(c=>{const f=te(c.health,c.current_health);return c.current_health>0&&f<=30}),l=()=>{const h=r.some(f=>f.current_health<=0),c=s.some(f=>f.current_health>0);return h&&c};return[i(),n(),l(),o()].some(Boolean)?a.jsxs(re,{className:"dark:bg-default",children:[a.jsx(ae,{className:"flex flex-row items-center justify-between gap-4",children:a.jsx("h3",{className:"text-md font-medium",children:"Active conditional cards"})}),a.jsxs(ne,{className:"pt-0 flex flex-row gap-1",children:[i()?a.jsx(E,{src:L("VictoryMarch",be),width:36,radius:"md"}):null,n()?a.jsx(E,{src:L("InsanityVoid",be),width:36,radius:"md"}):null,l()?a.jsx(E,{src:L("SkeletalSmash",be),width:36,radius:"md"}):null,o()?a.jsx(E,{src:L("DecayingStrike",be),width:36,radius:"md"}):null]})]}):null}const Fr="../assets/titans/avatars",$r="_avatar";function Ur({children:e}){const{titans:t,currentTitan:s}=ke(),[r,n]=m.useState();m.useEffect(()=>{s&&n(s)},[s]);const i=o=>{n(t.find(l=>l.id===o))};return a.jsxs(re,{children:[a.jsx(ae,{className:"flex flex-row items-center justify-between mt-0 p-4",children:a.jsx("h2",{className:"text-md font-semibold",children:"Raid info"})}),a.jsxs(ne,{className:"flex flex-row lg:gap-36 md:gap-12",children:[a.jsx("div",{className:"flex flex-col gap-2 justify-between sm:justify-normal flex-wrap",children:t.map(o=>a.jsx("div",{className:"flex flex-row items-center rounded-md",children:a.jsx(We,{size:"lg",onPress:()=>i(o.id),color:(r==null?void 0:r.sequence_index)===o.sequence_index?"primary":"default",startContent:a.jsx("span",{children:o.sequence_index+1}),endContent:a.jsx(bt,{src:L(o.name+$r,Fr),name:o.name,size:"lg",radius:"md"})})},o.id))}),r&&a.jsx(Ye,{titan:r,showConditionalSection:!1,parts:r.parts.map(({name:o,current_health:l})=>({name:o,value:l}))}),a.jsxs("div",{className:"flex flex-col gap-4",children:[e,a.jsx(Ir,{titan:r})]})]})]})}const Hr="../assets/titans/avatars",Vr="_avatar";function Qr(){const{titans:e,currentTitan:t}=ke(),[s,r]=m.useState();m.useEffect(()=>{t&&r(t)},[t]);const n=i=>{r(e.find(o=>o.id===i))};return a.jsxs(re,{children:[a.jsx(ae,{className:"flex flex-row items-center justify-between mt-0 p-4",children:a.jsx("h2",{className:"text-md font-semibold",children:"Titan State"})}),a.jsxs(ne,{className:"flex flex-col gap-4",children:[a.jsx("div",{className:"flex flex-row gap-2 justify-between sm:justify-normal flex-wrap",children:e.map(i=>a.jsxs("div",{className:`flex flex-col items-center rounded-md p-1 ${(s==null?void 0:s.sequence_index)===i.sequence_index?"bg-primary/50":"bg-default"}`,onClick:()=>n(i.id),children:[a.jsx(bt,{src:L(i.name+Vr,Hr),name:i.name,size:"sm",radius:"sm"}),i.sequence_index+1]},i.id))}),s&&a.jsx(Ye,{titan:s,showConditionalSection:!0,parts:s.parts.map(({name:i,current_health:o})=>({name:i,value:o}))})]})]})}function qr(){const[e,t]=m.useState(localStorage.getItem("darkMode")==="true");m.useEffect(()=>{const r=localStorage.getItem("darkMode")==="true";t(r)},[]),m.useEffect(()=>{document.documentElement.classList.toggle("dark",e),localStorage.setItem("darkMode",String(e))},[e]);const s=()=>{t(r=>!r)};return a.jsx(We,{onClick:s,isIconOnly:!0,variant:"light","aria-label":"Toggle between dark and light mode",children:e?a.jsx(as,{}):a.jsx(ns,{})})}const zr=["Dashboard","Alchemy"],Wr="../assets",Kr="Logo",ve="../assets/cards";function ea(){var p,x,g,B,R;const{matches:e}=ks({screen:"screen",width:"(min-width: 924px)"}),[t,s]=m.useState(!1),{setTitans:r,setCurrentTitan:n,titans:i}=ke(),o=Lr(),l=Br(),{data:d}=Cr(),{data:h}=kr();m.useEffect(()=>{d&&r(d.titans)},[d,r]),m.useEffect(()=>{var w,P,D,I;if(!i||!((w=l.data)!=null&&w.pages))return;let b;if((P=l.data.pages.at(0))!=null&&P.attack_logs.at(0)||(b=i.at(0)),b||(b=i.at(0)),b){n(b);return}const y=(I=(D=l.data.pages.at(0))==null?void 0:D.attack_logs.at(0))==null?void 0:I.raid_titan_id;y&&(b=i.find(k=>k.id===y),b&&n(b))},[(p=l.data)==null?void 0:p.pages,i]);const c=m.useMemo(()=>{var y;return!o.data||!o.data.cycles.length?["0"]:((y=o.data)==null||y.cycles.sort((w,P)=>w.cycle>P.cycle?1:-1),o.data.cycles.map(({morale:w,team_tactics:P})=>((w+P)*100).toFixed(2)))},[(x=o.data)==null?void 0:x.cycles.length]),f=m.useMemo(()=>{var y;return!o.data||!o.data.cycles.length?["0"]:((y=o.data)==null||y.cycles.sort((w,P)=>w.cycle>P.cycle?1:-1),o.data.cycles.map(({mirror_force:w})=>(w*100).toFixed(0)))},[(g=o.data)==null?void 0:g.cycles.length]);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"xl:w-5/6 w-full 2xl:max-w-[1640px] grid items-center",children:a.jsxs(Yt,{onMenuOpenChange:s,isBlurred:!0,isBordered:!0,children:[a.jsxs(_e,{children:[a.jsx(es,{"aria-label":t?"Close menu":"Open menu",className:"md:hidden"}),a.jsxs(ts,{className:"gap-2 min-w-fit",children:[a.jsx("div",{className:"h-10 w-10",children:a.jsx(E,{src:L(Kr,Wr),radius:"sm"})}),a.jsx("p",{className:"font-bold text-inherit",children:"TitanTech"})]})]}),a.jsxs(_e,{className:"hidden md:flex gap-4",justify:"center",children:[a.jsx(Oe,{isActive:!0,children:a.jsx(Te,{href:"/dashboard","aria-current":"page",children:"Dashboard"})}),a.jsx(Oe,{children:a.jsx(Te,{href:"/alchemy",color:"foreground",children:"Alchemy"})})]}),a.jsx(_e,{justify:"end",children:a.jsx(Oe,{className:"flex flex-row items-center justify-end gap-4",children:a.jsx(qr,{})})}),a.jsx(ss,{className:"z-50 mt-4",children:zr.map((b,y)=>a.jsx(rs,{children:a.jsx(Te,{color:y===0?"primary":"foreground",className:"w-full",href:`/${b}`,size:"lg",children:b})},`${b}-${y}`))})]})}),a.jsxs("div",{className:"grid grid-cols-1 py-6 gap-4 lg:gap-x-0 lg:grid-cols-2",children:[e.width?null:a.jsx("div",{className:"lg:col-span-1 lg:row-start-0",children:a.jsx(pt,{raidData:h==null?void 0:h.raids.at(0),raidCycle:(B=o.data)==null?void 0:B.cycles.sort((b,y)=>b.cycle>y.cycle?1:-1).at(-1)})}),e.width?null:a.jsx("div",{className:"lg:col-span-1 lg:col-start-1 lg:row-start-2",children:a.jsx(ye,{title:"Morale",imageUrl:L("TeamTactics",ve),bonus:c})}),e.width?null:a.jsx("div",{className:"lg:col-span-1 lg:col-start-1 lg:row-start-3",children:a.jsx(ye,{title:"Mirror Force",imageUrl:L("MirrorForce",ve),bonus:f})}),e.width?a.jsx("div",{className:"lg:col-span-2 lg:col-start-0 lg:row-start-1 lg:row-span-5",children:a.jsx(Ur,{children:a.jsxs(a.Fragment,{children:[a.jsx(pt,{raidData:h==null?void 0:h.raids.at(0),raidCycle:(R=o.data)==null?void 0:R.cycles.sort((b,y)=>b.cycle>y.cycle?1:-1).at(-1)}),a.jsx(ye,{title:"Morale",imageUrl:L("TeamTactics",ve),bonus:c}),a.jsx(ye,{title:"Mirror Force",imageUrl:L("MirrorForce",ve),bonus:f})]})})}):a.jsx("div",{className:"lg:col-span-1 lg:col-start-2 lg:row-start-1 lg:row-span-5",children:a.jsx(Qr,{})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs(re,{className:"col-span-4 p-4",children:[a.jsxs(ae,{className:"p-0 justify-between",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Latest Raid Attacks"}),a.jsx(We,{size:"sm",color:"primary",onPress:()=>l.refetch(),children:"Refresh"})]}),a.jsx(ne,{className:"p-0 ",children:a.jsx(Pr,{...l})})]})})]})]})}export{ea as default};
