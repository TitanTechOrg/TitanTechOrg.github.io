import{r as f,a0 as m,aX as x,at as y,aY as C,$ as h,aV as T,aZ as W,a_ as H}from"./index-CEY-M79G.js";import{c as M,$ as R}from"./chunk-736YWA4T-DJJWiByM.js";var _=(e,n)=>{var t;let l=[];const c=(t=f.Children.map(e,o=>f.isValidElement(o)&&o.type===n?(l.push(o),null):o))==null?void 0:t.filter(Boolean),r=l.length>=0?l:void 0;return[c,r]};function w(e,n){if(!e)return!1;let t=window.getComputedStyle(e),l=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return l&&n&&(l=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),l}function S(e,n){let t=e;for(w(t,n)&&(t=t.parentElement);t&&!w(t,n);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function L({children:e}){let n=f.useMemo(()=>({register:()=>{}}),[]);return m.createElement(x.Provider,{value:n},e)}const p=typeof document<"u"&&window.visualViewport,V=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let b=0,v;function A(e={}){let{isDisabled:n}=e;y(()=>{if(!n)return b++,b===1&&(C()?v=F():v=B()),()=>{b--,b===0&&v()}},[n])}function B(){let e=window.innerWidth-document.documentElement.clientWidth;return h(e>0&&("scrollbarGutter"in document.documentElement.style?s(document.documentElement,"scrollbarGutter","stable"):s(document.documentElement,"paddingRight",`${e}px`)),s(document.documentElement,"overflow","hidden"))}function F(){let e,n,t=d=>{e=S(d.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(n=s(e,"overscrollBehavior","contain"))},l=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&d.preventDefault()},c=()=>{n&&n()},r=d=>{let u=d.target;Y(u)&&(i(),u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",p&&(p.height<window.innerHeight?requestAnimationFrame(()=>{E(u)}):p.addEventListener("resize",()=>E(u),{once:!0}))}))},o=null,i=()=>{if(o)return;let d=()=>{window.scrollTo(0,0)},u=window.pageXOffset,g=window.pageYOffset;o=h($(window,"scroll",d),s(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),s(document.documentElement,"overflow","hidden"),s(document.body,"marginTop",`-${g}px`),()=>{window.scrollTo(u,g)}),window.scrollTo(0,0)},a=h($(document,"touchstart",t,{passive:!1,capture:!0}),$(document,"touchmove",l,{passive:!1,capture:!0}),$(document,"touchend",c,{passive:!1,capture:!0}),$(document,"focus",r,!0));return()=>{n?.(),o?.(),a()}}function s(e,n,t){let l=e.style[n];return e.style[n]=t,()=>{e.style[n]=l}}function $(e,n,t,l){return e.addEventListener(n,t,l),()=>{e.removeEventListener(n,t,l)}}function E(e){let n=document.scrollingElement||document.documentElement,t=e;for(;t&&t!==n;){let l=S(t);if(l!==document.documentElement&&l!==document.body&&l!==t){let c=l.getBoundingClientRect().top,r=t.getBoundingClientRect().top;r>c+t.clientHeight&&(l.scrollTop+=r-c)}t=l.parentElement}}function Y(e){return e instanceof HTMLInputElement&&!V.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const D=m.createContext(null);function I(e){let n=T(),{portalContainer:t=n?null:document.body,isExiting:l}=e,[c,r]=f.useState(!1),o=f.useMemo(()=>({contain:c,setContain:r}),[c,r]),{getContainer:i}=W();if(!e.portalContainer&&i&&(t=i()),!t)return null;let a=e.children;return e.disableFocusManagement||(a=m.createElement(M,{restoreFocus:!0,contain:(e.shouldContainFocus||c)&&!l},a)),a=m.createElement(D.Provider,{value:o},m.createElement(L,null,a)),H.createPortal(a,t)}function P(e={}){let{isReadOnly:n}=e,[t,l]=R(e.isSelected,e.defaultSelected||!1,e.onChange),[c]=f.useState(t);function r(a){n||l(a)}function o(){n||l(!t)}var i;return{isSelected:t,defaultSelected:(i=e.defaultSelected)!==null&&i!==void 0?i:c,setSelected:r,toggle:o}}export{I as $,A as a,P as b,S as c,w as d,_ as p};
