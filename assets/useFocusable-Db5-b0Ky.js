import{q as y,ax as g,ay as v,bw as b,aI as E,az as $,aK as m,W as C,r as i,R as w}from"./index-Dil6rDqS.js";let s=new Map;typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{s.delete(e)});function F(e,t){if(e===t)return e;let a=s.get(e);if(a)return a.forEach(r=>r.current=t),t;let n=s.get(t);return n?(n.forEach(r=>r.current=e),e):t}function h(...e){return(...t)=>{for(let a of e)typeof a=="function"&&a(...t)}}function p(...e){let t={...e[0]};for(let a=1;a<e.length;a++){let n=e[a];for(let r in n){let f=t[r],o=n[r];typeof f=="function"&&typeof o=="function"&&r[0]==="o"&&r[1]==="n"&&r.charCodeAt(2)>=65&&r.charCodeAt(2)<=90?t[r]=h(f,o):(r==="className"||r==="UNSAFE_className")&&typeof f=="string"&&typeof o=="string"?t[r]=y(f,o):r==="id"&&f&&o?t.id=F(f,o):t[r]=o!==void 0?o:f}}return t}let c=new Map,d=new Set;function x(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let r=c.get(n.target);r||(r=new Set,c.set(n.target,r),n.target.addEventListener("transitioncancel",a,{once:!0})),r.add(n.propertyName)},a=n=>{if(!e(n)||!n.target)return;let r=c.get(n.target);if(r&&(r.delete(n.propertyName),r.size===0&&(n.target.removeEventListener("transitioncancel",a),c.delete(n.target)),c.size===0)){for(let f of d)f();d.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",a)}typeof document<"u"&&(document.readyState!=="loading"?x():document.addEventListener("DOMContentLoaded",x));function z(){for(const[e]of c)"isConnected"in e&&!e.isConnected&&c.delete(e)}function L(e){requestAnimationFrame(()=>{z(),c.size===0?e():d.add(e)})}function N(e,t){g(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function P(e){const t=v(e),a=b(t);if(E()==="virtual"){let n=a;L(()=>{b(t)===n&&e.isConnected&&$(e)})}else $(e)}let D=w.createContext(null);function S(e){let t=i.useContext(D)||{};N(t,e);let{ref:a,...n}=t;return n}function k(e,t){let{focusProps:a}=m(e),{keyboardProps:n}=C(e),r=p(a,n),f=S(t),o=e.isDisabled?{}:f,l=i.useRef(e.autoFocus);i.useEffect(()=>{l.current&&t.current&&P(t.current),l.current=!1},[t]);let u=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(u=void 0),{focusableProps:p({...r,tabIndex:u},o)}}export{k as $,P as a,p as b,L as c,N as d,h as e};
