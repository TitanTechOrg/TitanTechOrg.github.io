import{r as f,ax as m,aO as S,am as y,aP as C,$ as h,aM as T,aQ as M,aR as R}from"./index-CENqs8IR.js";import{d as g,c as W,$ as H}from"./chunk-736YWA4T-B8vw4XX_.js";var I=(e,n)=>{var t;let o=[];const c=(t=f.Children.map(e,l=>f.isValidElement(l)&&l.type===n?(o.push(l),null):l))==null?void 0:t.filter(Boolean),r=o.length>=0?o:void 0;return[c,r]};function x(e,n){let t=e;for(g(t,n)&&(t=t.parentElement);t&&!g(t,n);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function L({children:e}){let n=f.useMemo(()=>({register:()=>{}}),[]);return m.createElement(S.Provider,{value:n},e)}const p=typeof document<"u"&&window.visualViewport,V=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let b=0,v;function Y(e={}){let{isDisabled:n}=e;y(()=>{if(!n)return b++,b===1&&(C()?v=F():v=B()),()=>{b--,b===0&&v()}},[n])}function B(){let e=window.innerWidth-document.documentElement.clientWidth;return h(e>0&&("scrollbarGutter"in document.documentElement.style?s(document.documentElement,"scrollbarGutter","stable"):s(document.documentElement,"paddingRight",`${e}px`)),s(document.documentElement,"overflow","hidden"))}function F(){let e,n,t=i=>{e=x(i.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(n=s(e,"overscrollBehavior","contain"))},o=i=>{if(!e||e===document.documentElement||e===document.body){i.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&i.preventDefault()},c=()=>{n&&n()},r=i=>{let u=i.target;O(u)&&(d(),u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",p&&(p.height<window.innerHeight?requestAnimationFrame(()=>{w(u)}):p.addEventListener("resize",()=>w(u),{once:!0}))}))},l=null,d=()=>{if(l)return;let i=()=>{window.scrollTo(0,0)},u=window.pageXOffset,E=window.pageYOffset;l=h($(window,"scroll",i),s(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),s(document.documentElement,"overflow","hidden"),s(document.body,"marginTop",`-${E}px`),()=>{window.scrollTo(u,E)}),window.scrollTo(0,0)},a=h($(document,"touchstart",t,{passive:!1,capture:!0}),$(document,"touchmove",o,{passive:!1,capture:!0}),$(document,"touchend",c,{passive:!1,capture:!0}),$(document,"focus",r,!0));return()=>{n?.(),l?.(),a()}}function s(e,n,t){let o=e.style[n];return e.style[n]=t,()=>{e.style[n]=o}}function $(e,n,t,o){return e.addEventListener(n,t,o),()=>{e.removeEventListener(n,t,o)}}function w(e){let n=document.scrollingElement||document.documentElement,t=e;for(;t&&t!==n;){let o=x(t);if(o!==document.documentElement&&o!==document.body&&o!==t){let c=o.getBoundingClientRect().top,r=t.getBoundingClientRect().top;r>c+t.clientHeight&&(o.scrollTop+=r-c)}t=o.parentElement}}function O(e){return e instanceof HTMLInputElement&&!V.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const D=m.createContext(null);function _(e){let n=T(),{portalContainer:t=n?null:document.body,isExiting:o}=e,[c,r]=f.useState(!1),l=f.useMemo(()=>({contain:c,setContain:r}),[c,r]),{getContainer:d}=M();if(!e.portalContainer&&d&&(t=d()),!t)return null;let a=e.children;return e.disableFocusManagement||(a=m.createElement(W,{restoreFocus:!0,contain:(e.shouldContainFocus||c)&&!o},a)),a=m.createElement(D.Provider,{value:l},m.createElement(L,null,a)),R.createPortal(a,t)}function q(e={}){let{isReadOnly:n}=e,[t,o]=H(e.isSelected,e.defaultSelected||!1,e.onChange),[c]=f.useState(t);function r(a){n||o(a)}function l(){n||o(!t)}var d;return{isSelected:t,defaultSelected:(d=e.defaultSelected)!==null&&d!==void 0?d:c,setSelected:r,toggle:l}}export{_ as $,Y as a,q as b,x as c,I as p};
