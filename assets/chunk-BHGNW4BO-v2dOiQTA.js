import{r as i,t as U,h as q,i as G,u as J,o as Q,b as C,e as R,f as X,j as I}from"./index-Dh8cia3P.js";import{u as Y}from"./index-BUD4SNfT.js";function ee(){const d=()=>()=>{};return i.useSyncExternalStore(d,()=>!0,()=>!1)}var A=U({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-shimmer","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]});function re(d={}){const{onLoad:c,onError:m,ignoreFallback:g,src:e,crossOrigin:u,srcSet:f,sizes:l,loading:t,shouldBypassImageLoad:b=!1}=d,r=ee(),o=i.useRef(r?new Image:null),[h,n]=i.useState("pending");i.useEffect(()=>{o.current&&(o.current.onload=a=>{s(),n("loaded"),c?.(a)},o.current.onerror=a=>{s(),n("failed"),m?.(a)})},[o.current]);const s=()=>{o.current&&(o.current.onload=null,o.current.onerror=null,o.current=null)},p=i.useCallback(()=>{if(!e)return"pending";if(g||b)return"loaded";const a=new Image;return a.src=e,u&&(a.crossOrigin=u),f&&(a.srcset=f),l&&(a.sizes=l),t&&(a.loading=t),o.current=a,a.complete&&a.naturalWidth?"loaded":"loading"},[e,u,f,l,c,m,t,b]);return Y(()=>{r&&n(p())},[r,p]),g?"loaded":h}function oe(d){var c,m;const g=q(),[e,u]=G(d,A.variantKeys),{ref:f,as:l,src:t,className:b,classNames:r,loading:o,isBlurred:h,fallbackSrc:n,isLoading:s,disableSkeleton:p=!!n,removeWrapper:a=!1,onError:$,onLoad:O,srcSet:k,sizes:S,crossOrigin:x,...y}=e,z=re({src:t,loading:o,onError:$,onLoad:O,ignoreFallback:!1,srcSet:k,sizes:S,crossOrigin:x,shouldBypassImageLoad:l!==void 0}),W=(m=(c=d.disableAnimation)!=null?c:g?.disableAnimation)!=null?m:!1,j=z==="loaded"&&!s,L=z==="loading"||s,F=d.isZoomed,H=l||"img",N=J(f),{w:P,h:M}=i.useMemo(()=>({w:e.width?typeof e.width=="number"?`${e.width}px`:e.width:"fit-content",h:e.height?typeof e.height=="number"?`${e.height}px`:e.height:"auto"}),[e?.width,e?.height]),E=(!t||!j)&&!!n,B=L&&!p,w=i.useMemo(()=>A({...u,disableAnimation:W,showSkeleton:B}),[Q(u),W,B]),V=C(b,r?.img),_=(v={})=>{const T=C(V,v?.className);return{src:t,ref:N,"data-loaded":R(j),className:w.img({class:T}),loading:o,srcSet:k,sizes:S,crossOrigin:x,...y,style:{...y?.height&&{height:M},...v.style,...y.style}}},D=i.useCallback(()=>{const v=E?{backgroundImage:`url(${n})`}:{};return{className:w.wrapper({class:r?.wrapper}),style:{...v,maxWidth:P}}},[w,E,n,r?.wrapper,P]),K=i.useCallback(()=>({src:t,"aria-hidden":R(!0),className:w.blurredImg({class:r?.blurredImg})}),[w,t,r?.blurredImg]);return{Component:H,domRef:N,slots:w,classNames:r,isBlurred:h,disableSkeleton:p,fallbackSrc:n,removeWrapper:a,isZoomed:F,isLoading:L,getImgProps:_,getWrapperProps:D,getBlurredImgProps:K}}var Z=X((d,c)=>{const{Component:m,domRef:g,slots:e,classNames:u,isBlurred:f,isZoomed:l,fallbackSrc:t,removeWrapper:b,disableSkeleton:r,getImgProps:o,getWrapperProps:h,getBlurredImgProps:n}=oe({...d,ref:c}),s=I.jsx(m,{ref:g,...o()});if(b)return s;const p=I.jsx("div",{className:e.zoomedWrapper({class:u?.zoomedWrapper}),children:s});return f?I.jsxs("div",{...h(),children:[l?p:s,i.cloneElement(s,n())]}):l||!r||t?I.jsxs("div",{...h(),children:[" ",l?p:s]}):s});Z.displayName="HeroUI.Image";var te=Z;export{te as i};
