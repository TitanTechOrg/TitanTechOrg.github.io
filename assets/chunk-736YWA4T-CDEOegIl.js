import{R as O,ap as se,q as Xe,b9 as qe,ba as Je,bb as de,bc as Qe,az as ne,ax as Ze,bd as Ke,ay as B,r as T,H as et,J as U,be as tt,bf as rt,b6 as C,bg as x,bh as nt,bi as ot,bj as oe,s as xe,v as it,w as at,bk as st,bl as Se,aI as Ie,aK as lt,W as ct}from"./index-DHy5VeOG.js";const R=typeof document<"u"?O.useLayoutEffect:()=>{},k=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},ut=e=>e&&"window"in e&&e.window===e?e:k(e).defaultView||window;function dt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function ft(e){return dt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}function ke(e,t){if(!se())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:ft(r)?r=r.host:r=r.parentNode}return!1}const A=(e=document)=>{var t;if(!se())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function j(e){return se()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}class pt{get currentNode(){return this._currentNode}set currentNode(t){if(!ke(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const r=[];let o=t,n=t;for(this._currentNode=t;o&&o!==this.root;)if(o.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const l=o,s=this._doc.createTreeWalker(l,this.whatToShow,{acceptNode:this._acceptNode});r.push(s),s.currentNode=n,this._currentSetFor.add(s),o=n=l.host}else o=o.parentNode;const a=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});r.push(a),a.currentNode=n,this._currentSetFor.add(a),this._walkerStack=r}get doc(){return this._doc}firstChild(){let t=this.currentNode,r=this.nextNode();return ke(t,r)?(r&&(this.currentNode=r),r):(this.currentNode=t,null)}lastChild(){let r=this._walkerStack[0].lastChild();return r&&(this.currentNode=r),r}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var r;let n;if(typeof this.filter=="function"?n=this.filter(t):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(n=this.filter.acceptNode(t)),n===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let a=this.nextNode();return a&&(this.currentNode=a),a}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let o=this.nextNode();return o&&(this.currentNode=o),o}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let n=this.previousNode();return n&&(this.currentNode=n),n}else return null;return null}const r=t.previousNode();if(r){if(r.shadowRoot){var o;let a;if(typeof this.filter=="function"?a=this.filter(r):!((o=this.filter)===null||o===void 0)&&o.acceptNode&&(a=this.filter.acceptNode(r)),a===NodeFilter.FILTER_ACCEPT)return r&&(this.currentNode=r),r;let l=this.lastChild();return l&&(this.currentNode=l),l}return r&&(this.currentNode=r),r}else if(this._walkerStack.length>1){this._walkerStack.shift();let n=this.previousNode();return n&&(this.currentNode=n),n}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,r,o,n){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=l=>{if(l.nodeType===Node.ELEMENT_NODE){const b=l.shadowRoot;if(b){const d=this._doc.createTreeWalker(b,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(d),NodeFilter.FILTER_ACCEPT}else{var s;if(typeof this.filter=="function")return this.filter(l);if(!((s=this.filter)===null||s===void 0)&&s.acceptNode)return this.filter.acceptNode(l);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=r,this.filter=n??null,this.whatToShow=o??NodeFilter.SHOW_ALL,this._currentNode=r,this._walkerStack.unshift(t.createTreeWalker(r,o,this._acceptNode));const a=r.shadowRoot;if(a){const l=this._doc.createTreeWalker(a,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(l)}}}function bt(e,t,r,o){return se()?new pt(e,t,r,o):e.createTreeWalker(t,r,o)}function ge(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function ye(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function H(e){let t=null;return()=>(t==null&&(t=e()),t)}const vt=H(function(){return ye(/^Mac/i)}),$t=H(function(){return ye(/^iPhone/i)}),ht=H(function(){return ye(/^iPad/i)||vt()&&navigator.maxTouchPoints>1}),Ot=H(function(){return $t()||ht()}),Dt=H(function(){return ge(/AppleWebKit/i)&&!Oe()}),Oe=H(function(){return ge(/Chrome/i)}),gt=H(function(){return ge(/Android/i)}),Ee=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],yt=Ee.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Ee.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Et=Ee.join(':not([hidden]):not([tabindex="-1"]),');function Tt(e){return e.matches(yt)}function Nt(e){return e.matches(Et)}function mt(e){const t=ut(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:o}=e.style,n=r!=="none"&&o!=="hidden"&&o!=="collapse";if(n){const{getComputedStyle:a}=e.ownerDocument.defaultView;let{display:l,visibility:s}=a(e);n=l!=="none"&&s!=="hidden"&&s!=="collapse"}return n}function wt(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function De(e,t){return e.nodeName!=="#comment"&&mt(e)&&wt(e,t)&&(!e.parentElement||De(e.parentElement,e))}let fe=new Map;typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{fe.delete(e)});function xt(e,t){if(e===t)return e;let r=fe.get(e);if(r)return r.forEach(n=>n.current=t),t;let o=fe.get(t);return o?(o.forEach(n=>n.current=e),e):t}function Ue(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function ie(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let o=e[r];for(let n in o){let a=t[n],l=o[n];typeof a=="function"&&typeof l=="function"&&n[0]==="o"&&n[1]==="n"&&n.charCodeAt(2)>=65&&n.charCodeAt(2)<=90?t[n]=Ue(a,l):(n==="className"||n==="UNSAFE_className")&&typeof a=="string"&&typeof l=="string"?t[n]=Xe(a,l):n==="id"&&a&&l?t.id=xt(a,l):t[n]=l!==void 0?l:a}}return t}function Q(e,t,r=!0){var o,n;let{metaKey:a,ctrlKey:l,altKey:s,shiftKey:b}=t;qe()&&(!((n=window.event)===null||n===void 0||(o=n.type)===null||o===void 0)&&o.startsWith("key"))&&e.target==="_blank"&&(de()?a=!0:l=!0);let d=Je()&&de()&&!Qe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:l,altKey:s,shiftKey:b}):new MouseEvent("click",{metaKey:a,ctrlKey:l,altKey:s,shiftKey:b,bubbles:!0,cancelable:!0});Q.isOpening=r,ne(e),e.dispatchEvent(d),Q.isOpening=!1}Q.isOpening=!1;let G=new Map,pe=new Set;function Pe(){if(typeof window>"u")return;function e(o){return"propertyName"in o}let t=o=>{if(!e(o)||!o.target)return;let n=G.get(o.target);n||(n=new Set,G.set(o.target,n),o.target.addEventListener("transitioncancel",r,{once:!0})),n.add(o.propertyName)},r=o=>{if(!e(o)||!o.target)return;let n=G.get(o.target);if(n&&(n.delete(o.propertyName),n.size===0&&(o.target.removeEventListener("transitioncancel",r),G.delete(o.target)),G.size===0)){for(let a of pe)a();pe.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?Pe():document.addEventListener("DOMContentLoaded",Pe));function We(e){requestAnimationFrame(()=>{G.size===0?e():pe.add(e)})}function He(e,t){Ze(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}let Y="default",be="",re=new WeakMap;function St(e){if(Ke()){if(Y==="default"){const t=B(e);be=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Y="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";re.set(e,e.style[t]),e.style[t]="none"}}function _e(e){if(Ke()){if(Y!=="disabled")return;Y="restoring",setTimeout(()=>{We(()=>{if(Y==="restoring"){const t=B(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=be||""),be="",Y="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&re.has(e)){let t=re.get(e),r="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[r]==="none"&&(e.style[r]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),re.delete(e)}}const Ve=O.createContext({register:()=>{}});Ve.displayName="PressResponderContext";function kt(e){let t=T.useContext(Ve);if(t){let{register:r,...o}=t;e=ie(o,e),r()}return He(t,e.ref),e}var ee=new WeakMap;class te{continuePropagation(){xe(this,ee,!1)}get shouldStopPropagation(){return it(this,ee)}constructor(t,r,o,n){at(this,ee,{writable:!0,value:void 0}),xe(this,ee,!0);var a;let l=(a=n==null?void 0:n.target)!==null&&a!==void 0?a:o.currentTarget;const s=l==null?void 0:l.getBoundingClientRect();let b,d=0,h,f=null;o.clientX!=null&&o.clientY!=null&&(h=o.clientX,f=o.clientY),s&&(h!=null&&f!=null?(b=h-s.left,d=f-s.top):(b=s.width/2,d=s.height/2)),this.type=t,this.pointerType=r,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.x=b,this.y=d}}const Ce=Symbol("linkClicked");function Ut(e){let{onPress:t,onPressChange:r,onPressStart:o,onPressEnd:n,onPressUp:a,onClick:l,isDisabled:s,isPressed:b,preventFocusOnPress:d,shouldCancelOnPointerExit:h,allowTextSelectionOnPress:f,ref:p,...$}=kt(e),[y,L]=T.useState(!1),_=T.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:X,removeAllGlobalListeners:le}=et(),q=U((i,v)=>{let m=_.current;if(s||m.didFirePressStart)return!1;let c=!0;if(m.isTriggeringEvent=!0,o){let E=new te("pressstart",v,i);o(E),c=E.shouldStopPropagation}return r&&r(!0),m.isTriggeringEvent=!1,m.didFirePressStart=!0,L(!0),c}),V=U((i,v,m=!0)=>{let c=_.current;if(!c.didFirePressStart)return!1;c.didFirePressStart=!1,c.isTriggeringEvent=!0;let E=!0;if(n){let u=new te("pressend",v,i);n(u),E=u.shouldStopPropagation}if(r&&r(!1),L(!1),t&&m&&!s){let u=new te("press",v,i);t(u),E&&(E=u.shouldStopPropagation)}return c.isTriggeringEvent=!1,E}),Z=U((i,v)=>{let m=_.current;if(s)return!1;if(a){m.isTriggeringEvent=!0;let c=new te("pressup",v,i);return a(c),m.isTriggeringEvent=!1,c.shouldStopPropagation}return!0}),D=U(i=>{let v=_.current;if(v.isPressed&&v.target){v.didFirePressStart&&v.pointerType!=null&&V(z(v.target,i),v.pointerType,!1),v.isPressed=!1,v.isOverTarget=!1,v.activePointerId=null,v.pointerType=null,le(),f||_e(v.target);for(let m of v.disposables)m();v.disposables=[]}}),me=U(i=>{h&&D(i)}),ce=U(i=>{l==null||l(i)}),we=U((i,v)=>{if(l){let m=new MouseEvent("click",i);tt(m,v),l(rt(m))}}),Be=T.useMemo(()=>{let i=_.current,v={onKeyDown(c){if(ue(c.nativeEvent,c.currentTarget)&&C(c.currentTarget,x(c.nativeEvent))){var E;Re(x(c.nativeEvent),c.key)&&c.preventDefault();let u=!0;if(!i.isPressed&&!c.repeat){i.target=c.currentTarget,i.isPressed=!0,i.pointerType="keyboard",u=q(c,"keyboard");let w=c.currentTarget,S=F=>{ue(F,w)&&!F.repeat&&C(w,x(F))&&i.target&&Z(z(i.target,F),"keyboard")};X(B(c.currentTarget),"keyup",Ue(S,m),!0)}u&&c.stopPropagation(),c.metaKey&&de()&&((E=i.metaKeyEvents)===null||E===void 0||E.set(c.key,c.nativeEvent))}else c.key==="Meta"&&(i.metaKeyEvents=new Map)},onClick(c){if(!(c&&!C(c.currentTarget,x(c.nativeEvent)))&&c&&c.button===0&&!i.isTriggeringEvent&&!Q.isOpening){let E=!0;if(s&&c.preventDefault(),!i.ignoreEmulatedMouseEvents&&!i.isPressed&&(i.pointerType==="virtual"||st(c.nativeEvent))){let u=q(c,"virtual"),w=Z(c,"virtual"),S=V(c,"virtual");ce(c),E=u&&w&&S}else if(i.isPressed&&i.pointerType!=="keyboard"){let u=i.pointerType||c.nativeEvent.pointerType||"virtual";E=V(z(c.currentTarget,c),u,!0),i.isOverTarget=!1,ce(c),D(c)}i.ignoreEmulatedMouseEvents=!1,E&&c.stopPropagation()}}},m=c=>{var E;if(i.isPressed&&i.target&&ue(c,i.target)){var u;Re(x(c),c.key)&&c.preventDefault();let S=x(c),F=C(i.target,x(c));V(z(i.target,c),"keyboard",F),F&&we(c,i.target),le(),c.key!=="Enter"&&Te(i.target)&&C(i.target,S)&&!c[Ce]&&(c[Ce]=!0,Q(i.target,c,!1)),i.isPressed=!1,(u=i.metaKeyEvents)===null||u===void 0||u.delete(c.key)}else if(c.key==="Meta"&&(!((E=i.metaKeyEvents)===null||E===void 0)&&E.size)){var w;let S=i.metaKeyEvents;i.metaKeyEvents=void 0;for(let F of S.values())(w=i.target)===null||w===void 0||w.dispatchEvent(new KeyboardEvent("keyup",F))}};if(typeof PointerEvent<"u"){v.onPointerDown=u=>{if(u.button!==0||!C(u.currentTarget,x(u.nativeEvent)))return;if(nt(u.nativeEvent)){i.pointerType="virtual";return}i.pointerType=u.pointerType;let w=!0;if(!i.isPressed){i.isPressed=!0,i.isOverTarget=!0,i.activePointerId=u.pointerId,i.target=u.currentTarget,f||St(i.target),w=q(u,i.pointerType);let S=x(u.nativeEvent);"releasePointerCapture"in S&&S.releasePointerCapture(u.pointerId),X(B(u.currentTarget),"pointerup",c,!1),X(B(u.currentTarget),"pointercancel",E,!1)}w&&u.stopPropagation()},v.onMouseDown=u=>{if(C(u.currentTarget,x(u.nativeEvent))&&u.button===0){if(d){let w=ot(u.target);w&&i.disposables.push(w)}u.stopPropagation()}},v.onPointerUp=u=>{!C(u.currentTarget,x(u.nativeEvent))||i.pointerType==="virtual"||u.button===0&&Z(u,i.pointerType||u.pointerType)},v.onPointerEnter=u=>{u.pointerId===i.activePointerId&&i.target&&!i.isOverTarget&&i.pointerType!=null&&(i.isOverTarget=!0,q(z(i.target,u),i.pointerType))},v.onPointerLeave=u=>{u.pointerId===i.activePointerId&&i.target&&i.isOverTarget&&i.pointerType!=null&&(i.isOverTarget=!1,V(z(i.target,u),i.pointerType,!1),me(u))};let c=u=>{if(u.pointerId===i.activePointerId&&i.isPressed&&u.button===0&&i.target){if(C(i.target,x(u))&&i.pointerType!=null){let w=!1,S=setTimeout(()=>{i.isPressed&&i.target instanceof HTMLElement&&(w?D(u):(ne(i.target),i.target.click()))},80);X(u.currentTarget,"click",()=>w=!0,!0),i.disposables.push(()=>clearTimeout(S))}else D(u);i.isOverTarget=!1}},E=u=>{D(u)};v.onDragStart=u=>{C(u.currentTarget,x(u.nativeEvent))&&D(u)}}return v},[X,s,d,le,f,D,me,V,q,Z,ce,we]);return T.useEffect(()=>{let i=p==null?void 0:p.current;i&&i instanceof oe(i).Element&&oe(i).getComputedStyle(i).touchAction==="auto"&&(i.style.touchAction="pan-x pan-y pinch-zoom")},[p]),T.useEffect(()=>{let i=_.current;return()=>{var v;f||_e((v=i.target)!==null&&v!==void 0?v:void 0);for(let m of i.disposables)m();i.disposables=[]}},[f]),{isPressed:b||y,pressProps:ie($,Be)}}function Te(e){return e.tagName==="A"&&e.hasAttribute("href")}function ue(e,t){const{key:r,code:o}=e,n=t,a=n.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||o==="Space")&&!(n instanceof oe(n).HTMLInputElement&&!ze(n,r)||n instanceof oe(n).HTMLTextAreaElement||n.isContentEditable)&&!((a==="link"||!a&&Te(n))&&r!=="Enter")}function z(e,t){let r=t.clientX,o=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:o}}function Pt(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Te(e)}function Re(e,t){return e instanceof HTMLInputElement?!ze(e,t):Pt(e)}const _t=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ze(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":_t.has(e.type)}function je(e){const t=B(e),r=Se(t);if(Ie()==="virtual"){let o=r;We(()=>{Se(t)===o&&e.isConnected&&ne(e)})}else ne(e)}let Ct=O.createContext(null);function Rt(e){let t=T.useContext(Ct)||{};He(t,e);let{ref:r,...o}=t;return o}function Wt(e,t){let{focusProps:r}=lt(e),{keyboardProps:o}=ct(e),n=ie(r,o),a=Rt(t),l=e.isDisabled?{}:a,s=T.useRef(e.autoFocus);T.useEffect(()=>{s.current&&t.current&&je(t.current),s.current=!1},[t]);let b=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(b=void 0),{focusableProps:ie({...n,tabIndex:b},l)}}const Le=O.createContext(null),ve="react-aria-focus-scope-restore";let g=null;function Ht(e){let{children:t,contain:r,restoreFocus:o,autoFocus:n}=e,a=T.useRef(null),l=T.useRef(null),s=T.useRef([]),{parentNode:b}=T.useContext(Le)||{},d=T.useMemo(()=>new he({scopeRef:s}),[s]);R(()=>{let p=b||N.root;if(N.getTreeNode(p.scopeRef)&&g&&!ae(g,p.scopeRef)){let $=N.getTreeNode(g);$&&(p=$)}p.addChild(d),N.addNode(d)},[d,b]),R(()=>{let p=N.getTreeNode(s);p&&(p.contain=!!r)},[r]),R(()=>{var p;let $=(p=a.current)===null||p===void 0?void 0:p.nextSibling,y=[],L=_=>_.stopPropagation();for(;$&&$!==l.current;)y.push($),$.addEventListener(ve,L),$=$.nextSibling;return s.current=y,()=>{for(let _ of y)_.removeEventListener(ve,L)}},[t]),At(s,o,r),Ft(s,r),Kt(s,o,r),Mt(s,n),T.useEffect(()=>{const p=A(k(s.current?s.current[0]:void 0));let $=null;if(P(p,s.current)){for(let y of N.traverse())y.scopeRef&&P(p,y.scopeRef.current)&&($=y);$===N.getTreeNode(s)&&(g=$.scopeRef)}},[s]),R(()=>()=>{var p,$,y;let L=(y=($=N.getTreeNode(s))===null||$===void 0||(p=$.parent)===null||p===void 0?void 0:p.scopeRef)!==null&&y!==void 0?y:null;(s===g||ae(s,g))&&(!L||N.getTreeNode(L))&&(g=L),N.removeTreeNode(s)},[s]);let h=T.useMemo(()=>Lt(s),[]),f=T.useMemo(()=>({focusManager:h,parentNode:d}),[d,h]);return O.createElement(Le.Provider,{value:f},O.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),t,O.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:l}))}function Lt(e){return{focusNext(t={}){let r=e.current,{from:o,tabbable:n,wrap:a,accept:l}=t;var s;let b=o||A(k((s=r[0])!==null&&s!==void 0?s:void 0)),d=r[0].previousElementSibling,h=W(r),f=I(h,{tabbable:n,accept:l},r);f.currentNode=P(b,r)?b:d;let p=f.nextNode();return!p&&a&&(f.currentNode=d,p=f.nextNode()),p&&M(p,!0),p},focusPrevious(t={}){let r=e.current,{from:o,tabbable:n,wrap:a,accept:l}=t;var s;let b=o||A(k((s=r[0])!==null&&s!==void 0?s:void 0)),d=r[r.length-1].nextElementSibling,h=W(r),f=I(h,{tabbable:n,accept:l},r);f.currentNode=P(b,r)?b:d;let p=f.previousNode();return!p&&a&&(f.currentNode=d,p=f.previousNode()),p&&M(p,!0),p},focusFirst(t={}){let r=e.current,{tabbable:o,accept:n}=t,a=W(r),l=I(a,{tabbable:o,accept:n},r);l.currentNode=r[0].previousElementSibling;let s=l.nextNode();return s&&M(s,!0),s},focusLast(t={}){let r=e.current,{tabbable:o,accept:n}=t,a=W(r),l=I(a,{tabbable:o,accept:n},r);l.currentNode=r[r.length-1].nextElementSibling;let s=l.previousNode();return s&&M(s,!0),s}}}function W(e){return e[0].parentElement}function J(e){let t=N.getTreeNode(g);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Ft(e,t){let r=T.useRef(void 0),o=T.useRef(void 0);R(()=>{let n=e.current;if(!t){o.current&&(cancelAnimationFrame(o.current),o.current=void 0);return}const a=k(n?n[0]:void 0);let l=d=>{if(d.key!=="Tab"||d.altKey||d.ctrlKey||d.metaKey||!J(e)||d.isComposing)return;let h=A(a),f=e.current;if(!f||!P(h,f))return;let p=W(f),$=I(p,{tabbable:!0},f);if(!h)return;$.currentNode=h;let y=d.shiftKey?$.previousNode():$.nextNode();y||($.currentNode=d.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,y=d.shiftKey?$.previousNode():$.nextNode()),d.preventDefault(),y&&M(y,!0)},s=d=>{(!g||ae(g,e))&&P(j(d),e.current)?(g=e,r.current=j(d)):J(e)&&!K(j(d),e)?r.current?r.current.focus():g&&g.current&&$e(g.current):J(e)&&(r.current=j(d))},b=d=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{let h=Ie(),f=(h==="virtual"||h===null)&&gt()&&Oe(),p=A(a);if(!f&&p&&J(e)&&!K(p,e)){g=e;let y=j(d);if(y&&y.isConnected){var $;r.current=y,($=r.current)===null||$===void 0||$.focus()}else g.current&&$e(g.current)}})};return a.addEventListener("keydown",l,!1),a.addEventListener("focusin",s,!1),n==null||n.forEach(d=>d.addEventListener("focusin",s,!1)),n==null||n.forEach(d=>d.addEventListener("focusout",b,!1)),()=>{a.removeEventListener("keydown",l,!1),a.removeEventListener("focusin",s,!1),n==null||n.forEach(d=>d.removeEventListener("focusin",s,!1)),n==null||n.forEach(d=>d.removeEventListener("focusout",b,!1))}},[e,t]),R(()=>()=>{o.current&&cancelAnimationFrame(o.current)},[o])}function Ge(e){return K(e)}function P(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function K(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of N.traverse(N.getTreeNode(t)))if(r&&P(e,r.current))return!0;return!1}function Vt(e){return K(e,g)}function ae(e,t){var r;let o=(r=N.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;o;){if(o.scopeRef===e)return!0;o=o.parent}return!1}function M(e,t=!1){if(e!=null&&!t)try{je(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function Ye(e,t=!0){let r=e[0].previousElementSibling,o=W(e),n=I(o,{tabbable:t},e);n.currentNode=r;let a=n.nextNode();return t&&!a&&(o=W(e),n=I(o,{tabbable:!1},e),n.currentNode=r,a=n.nextNode()),a}function $e(e,t=!0){M(Ye(e,t))}function Mt(e,t){const r=O.useRef(t);T.useEffect(()=>{if(r.current){g=e;const o=k(e.current?e.current[0]:void 0);!P(A(o),g.current)&&e.current&&$e(e.current)}r.current=!1},[e])}function At(e,t,r){R(()=>{if(t||r)return;let o=e.current;const n=k(o?o[0]:void 0);let a=l=>{let s=j(l);P(s,e.current)?g=e:Ge(s)||(g=null)};return n.addEventListener("focusin",a,!1),o==null||o.forEach(l=>l.addEventListener("focusin",a,!1)),()=>{n.removeEventListener("focusin",a,!1),o==null||o.forEach(l=>l.removeEventListener("focusin",a,!1))}},[e,t,r])}function Fe(e){let t=N.getTreeNode(g);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function Kt(e,t,r){const o=T.useRef(typeof document<"u"?A(k(e.current?e.current[0]:void 0)):null);R(()=>{let n=e.current;const a=k(n?n[0]:void 0);if(!t||r)return;let l=()=>{(!g||ae(g,e))&&P(A(a),e.current)&&(g=e)};return a.addEventListener("focusin",l,!1),n==null||n.forEach(s=>s.addEventListener("focusin",l,!1)),()=>{a.removeEventListener("focusin",l,!1),n==null||n.forEach(s=>s.removeEventListener("focusin",l,!1))}},[e,r]),R(()=>{const n=k(e.current?e.current[0]:void 0);if(!t)return;let a=l=>{if(l.key!=="Tab"||l.altKey||l.ctrlKey||l.metaKey||!J(e)||l.isComposing)return;let s=n.activeElement;if(!K(s,e)||!Fe(e))return;let b=N.getTreeNode(e);if(!b)return;let d=b.nodeToRestore,h=I(n.body,{tabbable:!0});h.currentNode=s;let f=l.shiftKey?h.previousNode():h.nextNode();if((!d||!d.isConnected||d===n.body)&&(d=void 0,b.nodeToRestore=void 0),(!f||!K(f,e))&&d){h.currentNode=d;do f=l.shiftKey?h.previousNode():h.nextNode();while(K(f,e));l.preventDefault(),l.stopPropagation(),f?M(f,!0):Ge(d)?M(d,!0):s.blur()}};return r||n.addEventListener("keydown",a,!0),()=>{r||n.removeEventListener("keydown",a,!0)}},[e,t,r]),R(()=>{const n=k(e.current?e.current[0]:void 0);if(!t)return;let a=N.getTreeNode(e);if(a){var l;return a.nodeToRestore=(l=o.current)!==null&&l!==void 0?l:void 0,()=>{let s=N.getTreeNode(e);if(!s)return;let b=s.nodeToRestore,d=A(n);if(t&&b&&(d&&K(d,e)||d===n.body&&Fe(e))){let h=N.clone();requestAnimationFrame(()=>{if(n.activeElement===n.body){let f=h.getTreeNode(e);for(;f;){if(f.nodeToRestore&&f.nodeToRestore.isConnected){Me(f.nodeToRestore);return}f=f.parent}for(f=h.getTreeNode(e);f;){if(f.scopeRef&&f.scopeRef.current&&N.getTreeNode(f.scopeRef)){let p=Ye(f.scopeRef.current,!0);Me(p);return}f=f.parent}}})}}}},[e,t])}function Me(e){e.dispatchEvent(new CustomEvent(ve,{bubbles:!0,cancelable:!0}))&&M(e)}function I(e,t,r){let o=t!=null&&t.tabbable?Nt:Tt,n=(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null,a=k(n),l=bt(a,e||a,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var b;return!(t==null||(b=t.from)===null||b===void 0)&&b.contains(s)?NodeFilter.FILTER_REJECT:o(s)&&De(s)&&(!r||P(s,r))&&(!(t!=null&&t.accept)||t.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(l.currentNode=t.from),l}class Ne{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,o){let n=this.fastMap.get(r??null);if(!n)return;let a=new he({scopeRef:t});n.addChild(a),a.parent=n,this.fastMap.set(t,a),o&&(a.nodeToRestore=o)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let o=r.parent;for(let a of this.traverse())a!==r&&r.nodeToRestore&&a.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&P(a.nodeToRestore,r.scopeRef.current)&&(a.nodeToRestore=r.nodeToRestore);let n=r.children;o&&(o.removeChild(r),n.size>0&&n.forEach(a=>o&&o.addChild(a))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new Ne;var o;for(let n of this.traverse())r.addTreeNode(n.scopeRef,(o=(t=n.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&o!==void 0?o:null,n.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new he({scopeRef:null}),this.fastMap.set(null,this.root)}}class he{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let N=new Ne;var Ae={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1]},zt={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:Ae.ease}},exit:{opacity:0,transition:{duration:.3,ease:Ae.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}};export{_e as $,Ae as T,St as a,Wt as b,Ut as c,je as d,R as e,ie as f,zt as g,Ve as h,Ot as i,Ht as j,Dt as k,Vt as l};
