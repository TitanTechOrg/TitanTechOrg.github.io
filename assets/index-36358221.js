var _e=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var d=(e,t,s)=>(_e(e,t,"read from private field"),s?s.call(e):t.get(e)),S=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},j=(e,t,s,r)=>(_e(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);var L=(e,t,s)=>(_e(e,t,"access private method"),s);import{S as Mt,s as Ie,l as It,m as st,o as rt,t as $t,p as Ut,q as Ft,v as at,n as vt,w as nt,x as Ht,y as Vt,r as m,u as Qt,a as qt,z as zt,c as $e,A as Wt,j as a,R as pe,B as Kt}from"./index-bc62f94b.js";import{t as Gt,m as Jt,u as Zt,c as Xt,a as it,f as Yt,i as O,s as jt,j as ot,b as Ge,l as Oe}from"./chunk-KRADFROI-d8b47ad8.js";import{s as es,j as ts,k as Be,E as ke,h as wt,n as ss,b as Ee,c as rs,d as as,e as De,f as ns,g as is}from"./axios-a8b778bb.js";import{t as Y,e as Je,f as Ze,c as se,a as re,b as ae,S as os,M as ls}from"./react-icons.esm-f850a9dc.js";var _,A,G,T,V,J,D,oe,Z,X,Q,q,H,z,W,ie,le,Ue,ce,Fe,ue,He,de,Ve,he,Qe,fe,qe,me,ze,Pe,St,bt,At=(bt=class extends Mt{constructor(t,s){super();S(this,W);S(this,le);S(this,ce);S(this,ue);S(this,de);S(this,he);S(this,fe);S(this,me);S(this,Pe);S(this,_,void 0);S(this,A,void 0);S(this,G,void 0);S(this,T,void 0);S(this,V,void 0);S(this,J,void 0);S(this,D,void 0);S(this,oe,void 0);S(this,Z,void 0);S(this,X,void 0);S(this,Q,void 0);S(this,q,void 0);S(this,H,void 0);S(this,z,void 0);j(this,A,void 0),j(this,G,void 0),j(this,T,void 0),j(this,z,new Set),j(this,_,t),this.options=s,j(this,D,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(d(this,A).addObserver(this),lt(d(this,A),this.options)&&L(this,W,ie).call(this),L(this,de,Ve).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return We(d(this,A),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return We(d(this,A),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,L(this,he,Qe).call(this),L(this,fe,qe).call(this),d(this,A).removeObserver(this)}setOptions(t,s){const r=this.options,n=d(this,A);if(this.options=d(this,_).defaultQueryOptions(t),Ie(r,this.options)||d(this,_).getQueryCache().notify({type:"observerOptionsUpdated",query:d(this,A),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),L(this,me,ze).call(this);const i=this.hasListeners();i&&ct(d(this,A),n,this.options,r)&&L(this,W,ie).call(this),this.updateResult(s),i&&(d(this,A)!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&L(this,le,Ue).call(this);const o=L(this,ce,Fe).call(this);i&&(d(this,A)!==n||this.options.enabled!==r.enabled||o!==d(this,H))&&L(this,ue,He).call(this,o)}getOptimisticResult(t){const s=d(this,_).getQueryCache().build(d(this,_),t),r=this.createResult(s,t);return us(this,r)&&(j(this,T,r),j(this,J,this.options),j(this,V,d(this,A).state)),r}getCurrentResult(){return d(this,T)}trackResult(t){const s={};return Object.keys(t).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(d(this,z).add(r),t[r])})}),s}getCurrentQuery(){return d(this,A)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=d(this,_).defaultQueryOptions(t),r=d(this,_).getQueryCache().build(d(this,_),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(t){return L(this,W,ie).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),d(this,T)))}createResult(t,s){var M;const r=d(this,A),n=this.options,i=d(this,T),o=d(this,V),l=d(this,J),h=t!==r?t.state:d(this,G),{state:c}=t;let{error:f,errorUpdatedAt:p,fetchStatus:x,status:g}=c,B=!1,P;if(s._optimisticResults){const k=this.hasListeners(),K=!k&&lt(t,s),Ne=k&&ct(t,r,s,n);(K||Ne)&&(x=Ft(t.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(g="pending")),s._optimisticResults==="isRestoring"&&(x="idle")}if(s.select&&typeof c.data<"u")if(i&&c.data===(o==null?void 0:o.data)&&s.select===d(this,oe))P=d(this,Z);else try{j(this,oe,s.select),P=s.select(c.data),P=at(i==null?void 0:i.data,P,s),j(this,Z,P),j(this,D,null)}catch(k){j(this,D,k)}else P=c.data;if(typeof s.placeholderData<"u"&&typeof P>"u"&&g==="pending"){let k;if(i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))k=i.data;else if(k=typeof s.placeholderData=="function"?s.placeholderData((M=d(this,X))==null?void 0:M.state.data,d(this,X)):s.placeholderData,s.select&&typeof k<"u")try{k=s.select(k),j(this,D,null)}catch(K){j(this,D,K)}typeof k<"u"&&(g="success",P=at(i==null?void 0:i.data,k,s),B=!0)}d(this,D)&&(f=d(this,D),P=d(this,Z),p=Date.now(),g="error");const b=x==="fetching",y=g==="pending",w=g==="error",R=y&&b;return{status:g,fetchStatus:x,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:R,isLoading:R,data:P,dataUpdatedAt:c.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>h.dataUpdateCount||c.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:w&&c.dataUpdatedAt===0,isPaused:x==="paused",isPlaceholderData:B,isRefetchError:w&&c.dataUpdatedAt!==0,isStale:Xe(t,s),refetch:this.refetch}}updateResult(t){const s=d(this,T),r=this.createResult(d(this,A),this.options);if(j(this,V,d(this,A).state),j(this,J,this.options),Ie(r,s))return;d(this,V).data!==void 0&&j(this,X,d(this,A)),j(this,T,r);const n={},i=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!d(this,z).size)return!0;const u=new Set(l??d(this,z));return this.options.throwOnError&&u.add("error"),Object.keys(d(this,T)).some(h=>{const c=h;return d(this,T)[c]!==s[c]&&u.has(c)})};(t==null?void 0:t.listeners)!==!1&&i()&&(n.listeners=!0),L(this,Pe,St).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&L(this,de,Ve).call(this)}},_=new WeakMap,A=new WeakMap,G=new WeakMap,T=new WeakMap,V=new WeakMap,J=new WeakMap,D=new WeakMap,oe=new WeakMap,Z=new WeakMap,X=new WeakMap,Q=new WeakMap,q=new WeakMap,H=new WeakMap,z=new WeakMap,W=new WeakSet,ie=function(t){L(this,me,ze).call(this);let s=d(this,A).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(It)),s},le=new WeakSet,Ue=function(){if(L(this,he,Qe).call(this),st||d(this,T).isStale||!rt(this.options.staleTime))return;const s=$t(d(this,T).dataUpdatedAt,this.options.staleTime)+1;j(this,Q,setTimeout(()=>{d(this,T).isStale||this.updateResult()},s))},ce=new WeakSet,Fe=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(d(this,A)):this.options.refetchInterval)??!1},ue=new WeakSet,He=function(t){L(this,fe,qe).call(this),j(this,H,t),!(st||this.options.enabled===!1||!rt(d(this,H))||d(this,H)===0)&&j(this,q,setInterval(()=>{(this.options.refetchIntervalInBackground||Ut.isFocused())&&L(this,W,ie).call(this)},d(this,H)))},de=new WeakSet,Ve=function(){L(this,le,Ue).call(this),L(this,ue,He).call(this,L(this,ce,Fe).call(this))},he=new WeakSet,Qe=function(){d(this,Q)&&(clearTimeout(d(this,Q)),j(this,Q,void 0))},fe=new WeakSet,qe=function(){d(this,q)&&(clearInterval(d(this,q)),j(this,q,void 0))},me=new WeakSet,ze=function(){const t=d(this,_).getQueryCache().build(d(this,_),this.options);if(t===d(this,A))return;const s=d(this,A);j(this,A,t),j(this,G,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Pe=new WeakSet,St=function(t){vt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(d(this,T))}),d(this,_).getQueryCache().notify({query:d(this,A),type:"observerResultsUpdated"})})},bt);function cs(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lt(e,t){return cs(e,t)||e.state.dataUpdatedAt>0&&We(e,t,t.refetchOnMount)}function We(e,t,s){if(t.enabled!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Xe(e,t)}return!1}function ct(e,t,s,r){return s.enabled!==!1&&(e!==t||r.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&Xe(e,s)}function Xe(e,t){return e.isStaleByTime(t.staleTime)}function us(e,t){return!Ie(e.getCurrentResult(),t)}var ds=class extends At{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:nt()},t)}getOptimisticResult(e){return e.behavior=nt(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var u,h,c,f;const{state:s}=e,r=super.createResult(e,t),{isFetching:n,isRefetching:i}=r,o=n&&((h=(u=s.fetchMeta)==null?void 0:u.fetchMore)==null?void 0:h.direction)==="forward",l=n&&((f=(c=s.fetchMeta)==null?void 0:c.fetchMore)==null?void 0:f.direction)==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ht(t,s.data),hasPreviousPage:Vt(t,s.data),isFetchingNextPage:o,isFetchingPreviousPage:l,isRefetching:i&&!o&&!l}}},Rt=m.createContext(!1),hs=()=>m.useContext(Rt);Rt.Provider;function fs(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ms=m.createContext(fs()),ps=()=>m.useContext(ms),gs=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},xs=e=>{m.useEffect(()=>{e.clearReset()},[e])},ys=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&es(s,[e.error,r]),bs=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},vs=(e,t)=>e.isLoading&&e.isFetching&&!t,js=(e,t,s)=>(e==null?void 0:e.suspense)&&vs(t,s),ws=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Pt(e,t,s){const r=Qt(s),n=hs(),i=ps(),o=r.defaultQueryOptions(e);o._optimisticResults=n?"isRestoring":"optimistic",bs(o),gs(o,i),xs(i);const[l]=m.useState(()=>new t(r,o)),u=l.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(h=>{const c=n?()=>{}:l.subscribe(vt.batchCalls(h));return l.updateResult(),c},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),js(o,u,n))throw ws(o,l,i);if(ys({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:l.getCurrentQuery()}))throw u.error;return o.notifyOnChangeProps?u:l.trackResult(u)}function Ye(e,t){return Pt(e,At,t)}function As(e,t){return Pt(e,ds,t)}var ut=Gt({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient bg-[length:1.25rem_1.25rem]"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1,disableAnimation:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}}]},{twMerge:!1});function Ss(e,t=100){return Math.min(Math.max(e,0),t)}function Rs(e={}){const{rerender:t=!1,delay:s=0}=e,r=m.useRef(!1),[n,i]=m.useState(!1);return m.useEffect(()=>{r.current=!0;let o=null;return t&&(s>0?o=setTimeout(()=>{i(!0)},s):i(!0)),()=>{r.current=!1,t&&i(!1),o&&clearTimeout(o)}},[t]),[m.useCallback(()=>r.current,[]),n]}function Ps(e){let{value:t=0,minValue:s=0,maxValue:r=100,valueLabel:n,isIndeterminate:i,formatOptions:o={style:"percent"}}=e,l=qt(e,{labelable:!0}),{labelProps:u,fieldProps:h}=ts({...e,labelElementType:"span"});t=Wt(t,s,r);let c=(t-s)/(r-s),f=zt(o);if(!i&&!n){let p=o.style==="percent"?c:t;n=f.format(p)}return{progressBarProps:$e(l,{...h,"aria-valuenow":i?void 0:t,"aria-valuemin":s,"aria-valuemax":r,"aria-valuetext":i?void 0:n,role:"progressbar"}),labelProps:u}}function Bs(e){const[t,s]=Jt(e,ut.variantKeys),{ref:r,as:n,id:i,className:o,classNames:l,label:u,valueLabel:h,value:c=0,minValue:f=0,maxValue:p=100,showValueLabel:x=!1,formatOptions:g={style:"percent"},...B}=t,P=n||"div",b=Zt(r),y=Xt(l==null?void 0:l.base,o),[,w]=Rs({rerender:!0,delay:100}),R=e.isIndeterminate,{progressBarProps:E,labelProps:M}=Ps({id:i,label:u,value:c,minValue:f,maxValue:p,valueLabel:h,formatOptions:g,isIndeterminate:R,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"]}),k=m.useMemo(()=>ut({...s}),[...Object.values(s)]),K=e.disableAnimation?!0:w,Ne=m.useMemo(()=>R||!K?void 0:Ss((c-f)/(p-f)*100),[K,R,c,f,p]),Et=m.useCallback((Te={})=>({ref:b,"data-indeterminate":it(R),"data-disabled":it(e.isDisabled),className:k.base({class:y}),...$e(E,B,Te)}),[b,k,R,e.isDisabled,y,E,B]),Dt=m.useCallback((Te={})=>({className:k.label({class:l==null?void 0:l.label}),...$e(M,Te)}),[k,l,M]);return{Component:P,domRef:b,slots:k,classNames:l,label:u,percentage:Ne,showValueLabel:x,getProgressBarProps:Et,getLabelProps:Dt}}var Bt=Yt((e,t)=>{const{Component:s,slots:r,classNames:n,label:i,percentage:o,showValueLabel:l,getProgressBarProps:u,getLabelProps:h}=Bs({...e,ref:t}),c=u(),f=i||l;return a.jsxs(s,{...c,children:[f?a.jsxs("div",{className:r.labelWrapper({class:n==null?void 0:n.labelWrapper}),children:[i&&a.jsx("span",{...h(),children:i}),l&&a.jsx("span",{className:r.value({class:n==null?void 0:n.value}),children:c["aria-valuetext"]})]}):null,a.jsx("div",{className:r.track({class:n==null?void 0:n.track}),children:a.jsx("div",{className:r.indicator({class:n==null?void 0:n.indicator}),style:{transform:`translateX(-${100-(o||0)}%)`}})})]})});Bt.displayName="NextUI.Progress";var Se=Bt;function ks(e,t){if(t===e)return!1;const s=Object.values(t),r=Object.values(e);if(s.length!==r.length||s.some((i,o)=>i!==r[o]))return!0;const n=Object.keys(e);return Object.keys(t).some((i,o)=>i!==n[o])}function Ls(e,t){return e.matches[t]=!1,e.mediaQueries[t]={},e}function kt(e){const t=Object.keys(e);return typeof window>"u"?t.reduce(Ls,{mediaQueries:{},matches:{}}):t.reduce((s,r)=>{const n=window.matchMedia(e[r]);return s.mediaQueries[r]=n,s.matches[r]=n.matches,s},{mediaQueries:{},matches:{}})}function Cs(e,t){function s(r,n){return r[n]=e.mediaQueries[n].matches,r}switch(t.type){case"updateMatches":return{matches:Object.keys(e.mediaQueries).reduce(s,{}),mediaQueries:e.mediaQueries};case"setQueries":return kt(t.queries)}}function Ns(e){const t=m.useRef(e),[s,r]=m.useReducer(Cs,e,kt);m.useEffect(()=>{ks(e,t.current)&&(r({type:"setQueries",queries:e}),t.current=e)},[e]);function n(){return r({type:"updateMatches"})}function i(u){const h=n;return typeof u.addListener<"u"?u.addListener(h):u.addEventListener("change",h),h}m.useEffect(()=>{const u=Object.values(s.mediaQueries),h=u.map(i);function c(f,p){typeof f.addListener<"u"?f.removeListener(h[p]):f.removeEventListener("change",h[p])}return()=>{u.forEach(c)}},[s.mediaQueries]);const{matches:o}=s,l=m.useMemo(()=>Object.values(o),[o]);return{matches:o,matchesAny:l.some(Boolean),matchesAll:l.length>0&&l.every(Boolean)}}function Re(){return Intl.NumberFormat("en",{notation:"compact",maximumFractionDigits:2})}function ee(e,t){return parseFloat((t/e*100).toFixed(2))}const et={"Armor Leg Right":"ArmorLegUpperRight","Armor Hand Left":"ArmorHandLeft","Armor Hand Right":"ArmorHandRight","Armor Leg Left":"ArmorLegUpperLeft","Armor Chest":"ArmorChestUpper","Armor Arm Right":"ArmorArmUpperRight","Armor Arm Left":"ArmorArmUpperLeft","Armor Head":"ArmorHead","Body Leg Right":"BodyLegUpperRight","Body Hand Left":"BodyHandLeft","Body Hand Right":"BodyHandRight","Body Leg Left":"BodyLegUpperLeft","Body Chest":"BodyChestUpper","Body Arm Right":"BodyArmUpperRight","Body Arm Left":"BodyArmUpperLeft","Body Head":"BodyHead","Skeleton Leg Right":"SkeletonLegUpperRight","Skeleton Hand Left":"SkeletonHandLeft","Skeleton Hand Right":"SkeletonHandRight","Skeleton Leg Left":"SkeletonLegUpperLeft","Skeleton Chest":"SkeletonChestUpper","Skeleton Arm Right":"SkeletonArmUpperRight","Skeleton Arm Left":"SkeletonArmUpperLeft","Skeleton Head":"SkeletonHead"},Ae={MoonBeam:{name:"MoonBeam",type:"Burst"},Fragmentize:{name:"Fragmentize",type:"Burst"},SkullBash:{name:"SkullBash",type:"Burst"},RazorWind:{name:"RazorWind",type:"Burst"},WhipOfLightning:{name:"WhipOfLightning",type:"Burst"},ClanshipBarrage:{name:"BurstCount",type:"Burst"},PurifyingBlast:{name:"Purify",type:"Burst"},PsychicShackles:{name:"LimbBurst",type:"Burst"},FlakShot:{name:"FlakShot",type:"Burst"},CosmicHaymaker:{name:"Haymaker",type:"Burst"},ChainOfVengeance:{name:"ChainLightning",type:"Burst"},MirrorForce:{name:"MirrorForce",type:"Burst"},CelestialStatic:{name:"CelestialStatic",type:"Burst"},BlazingInferno:{name:"BurningAttack",type:"Affliction"},AcidDrench:{name:"PoisonAttack",type:"Affliction"},DecayingStrike:{name:"DecayingAttack",type:"Affliction"},FusionBomb:{name:"Fuse",type:"Affliction"},GrimShadow:{name:"Shadow",type:"Affliction"},ThrivingPlague:{name:"PlagueAttack",type:"Affliction"},Radioactivity:{name:"Disease",type:"Affliction"},RavenousSwarm:{name:"Swarm",type:"Affliction"},RuinousRain:{name:"RuinousRust",type:"Affliction"},CorrosiveBubbles:{name:"PowerBubble",type:"Affliction"},Maelstrom:{name:"RuneAttack",type:"Affliction"},CrushingInstinct:{name:"ExecutionersAxe",type:"Support"},InsanityVoid:{name:"CrushingVoid",type:"Support"},RancidGas:{name:"MentalFocus",type:"Support"},InspiringForce:{name:"ImpactAttack",type:"Support"},SoulFire:{name:"InnerTruth",type:"Support"},VictoryMarch:{name:"FinisherAttack",type:"Support"},PrismaticRift:{name:"SuperheatMetal",type:"Support"},AncestralFavor:{name:"BurstBoost",type:"Support"},GraspingVines:{name:"LimbSupport",type:"Support"},TotemOfPower:{name:"TotemFairySkill",type:"Support"},TeamTactics:{name:"TeamTactics",type:"Support"},SkeletalSmash:{name:"SpinalTap",type:"Support"},AstralEcho:{name:"AstralEcho",type:"Support"},TapDamage:{name:"TapDamage",type:"Support"},Wildcard:{name:"Wildcard",type:"Support"}},Ts="../../../assets/cards",_s="../../../assets/cardTypes";function dt(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}const Os=e=>Ae[Lt(e)].type,Lt=e=>Object.keys(Ae).find(t=>Ae[t].name===e)??Ae.Wildcard.name,Es=({name:e})=>e!=="TapDamage";function Ds({id:e,sources:t}){return a.jsx("div",{className:"items-center flex justify-center h-auto w-max-content gap-1",children:t.filter(Es).map(({name:s,value:r},n)=>a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute z-20 inset-x-0 -left-1 -top-1",children:a.jsx(O,{src:dt(Os(s),_s),className:"w-full h-full h-4 w-4 sm:h-6 sm:w-6"},e+s+r+"image")},e+s+r+n+"span"),a.jsx(O,{src:dt(Lt(s),Ts),className:"rounded flex object-cover w-full h-full h-8 w-8 sm:h-16 sm:w-16"},e+s+n+"image"),a.jsx("span",{className:"absolute z-10 inset-x-0 bottom-0 text-white bg-black/50 text-tiny rounded-b text-right pr-1",children:r},e+r+n+"span")]},e+s+r+n+"container"))})}const Ms=pe.memo(Ds),C=e=>e?Re().format(e.value):"--",N=(e,t)=>t.find(s=>s.name===et[e]),I=(e,t)=>t==null?void 0:t.find(s=>s.name===et[e]&&s.cursed),v=(e,t)=>t==null?void 0:t.find(s=>s.name===et[e]),Is={BodyDamagePerCurse:"bg-yellow-500/20 border-yellow-500 dark:bg-yellow-500/30 dark:border-body-curse",AfflictedDamagePerCurse:"bg-purple-500/20 border-purple-500 dark:bg-purple-500/30 dark:border-afflict-curse",BurstDamagePerCurse:"bg-red-500/20 border-red-500 dark:bg-red-500/30 dark:border-burst-curse"},$=(e,t)=>{if(!(!t||!e))return Is[t]},$s="border-zinc-600/50 bg-zinc-500/20 text-zinc-500/50 dark:bg-zinc-500/20 dark:text-zinc-500/80",Us="border-gray-400 bg-gray-400/30 dark:bg-gray-400/40",Fs="border-sky-500 bg-sky-500/20 dark:bg-sky-500/40",Hs=" text-black dark:text-white",Vs=" text-red-500",Ct=(e,t,s,r)=>{let n="";return t?n=n.concat(t):s?n=n.concat($s):n=n.concat(e==="Armor"?Us:Fs),s||(n=n.concat(r?Vs:Hs)),n};function U({text:e,cursedColor:t,isOffstratPart:s,sequenceParts:r}){const n=Math.sign(parseInt(e,10))<1,i=Ct("Armor",t,s,n);let o=0;return r&&(o=ee(r.health,r.current_health)),a.jsx(Y,{showArrow:!0,content:`${o}%`,children:a.jsxs("div",{className:`${i} w-full col-span-1 row-span-1 border-solid border-3 rounded-md font-semibold subpixel-antialiased min-w-[80px]`,children:[e,a.jsx(Se,{"aria-label":"Titan armor part health...",value:o,className:"max-w-md px-1 pb-1",size:"sm",color:s?"default":"primary",isDisabled:s})]})})}function F({text:e,isOffstratPart:t,sequenceParts:s}){const r=Math.sign(parseInt(e,10))<1,n=Ct("Body",void 0,t,r);let i=0;return s&&(i=ee(s.health,s.current_health)),a.jsx(Y,{showArrow:!0,content:`${i}%`,children:a.jsxs("div",{className:`${n} w-full col-span-1 row-span-1 border border-3 rounded-md font-semibold subpixel-antialiased min-w-[80px]`,children:[e,a.jsx(Se,{"aria-label":"Titan body part health...",value:i,className:"max-w-md px-1 pb-1",size:"sm",color:t?"default":"primary",isDisabled:t})]})})}const Qs={Jukk:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Jukk-5e17daf5.webp')]",Klonk:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Klonk-0b1a8f82.webp')]",Lojak:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Lojak-3ff6694b.webp')]",Mohaca:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Mohaca-9685de65.webp')]",Priker:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Priker-359c25d5.webp')]",Sterl:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Sterl-72f3a3ad.webp')]",Takedar:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Takedar-6cf45888.webp')]",Terro:"before:bg-[url('https://titantech-static.s3.nl-ams.scw.cloud/titans/Terro-74c392e8.webp')]"};function qs({parts:e,titanData:t}){var i,o,l,u,h,c,f,p,x,g,B,P,b,y,w,R;const{curse_type:s,parts:r,name:n}=t;return a.jsxs("div",{className:`${Qs[n]} text-center w-72 min-w-fit mx-auto relative before:bg-cover before:bg-center before:bg-no-repeat before:absolute before:top-0 before:left-0 before:right-0 before:bottom-0 before:opacity-[15%] before:z-0`,children:[a.jsxs("div",{className:"grid gap-x-3 gap-y-1 grid-cols-3",children:[a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Arm Right",e)),cursedColor:$(I("Armor Arm Right",r),s),isOffstratPart:!((i=v("Armor Arm Right",r))!=null&&i.target),sequenceParts:v("Armor Arm Right",r)}),a.jsx(F,{text:C(N("Body Arm Right",e)),isOffstratPart:!((o=v("Body Arm Right",r))!=null&&o.target),sequenceParts:v("Body Arm Right",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Head",e)),cursedColor:$(I("Armor Head",r),s),isOffstratPart:!((l=v("Armor Head",r))!=null&&l.target),sequenceParts:v("Armor Head",r)}),a.jsx(F,{text:C(N("Body Head",e)),isOffstratPart:!((u=v("Body Head",r))!=null&&u.target),sequenceParts:v("Body Head",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Arm Left",e)),cursedColor:$(I("Armor Arm Left",r),s),isOffstratPart:!((h=v("Armor Arm Left",r))!=null&&h.target),sequenceParts:v("Armor Arm Left",r)}),a.jsx(F,{text:C(N("Body Arm Left",e)),isOffstratPart:!((c=v("Body Arm Left",r))!=null&&c.target),sequenceParts:v("Body Arm Left",r)})]})]}),a.jsxs("div",{className:"grid gap-x-3 gap-y-1 my-6 grid-cols-3",children:[a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Hand Right",e)),cursedColor:$(I("Armor Hand Right",r),s),isOffstratPart:!((f=v("Armor Hand Right",r))!=null&&f.target),sequenceParts:v("Armor Hand Right",r)}),a.jsx(F,{text:C(N("Body Hand Right",e)),isOffstratPart:!((p=v("Body Hand Right",r))!=null&&p.target),sequenceParts:v("Body Hand Right",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Chest",e)),cursedColor:$(I("Armor Chest",r),s),isOffstratPart:!((x=v("Armor Chest",r))!=null&&x.target),sequenceParts:v("Armor Chest",r)}),a.jsx(F,{text:C(N("Body Chest",e)),isOffstratPart:!((g=v("Body Chest",r))!=null&&g.target),sequenceParts:v("Body Chest",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Hand Left",e)),cursedColor:$(I("Armor Hand Left",r),s),isOffstratPart:!((B=v("Armor Hand Left",r))!=null&&B.target),sequenceParts:v("Armor Hand Left",r)}),a.jsx(F,{text:C(N("Body Hand Left",e)),isOffstratPart:!((P=v("Body Hand Left",r))!=null&&P.target),sequenceParts:v("Body Hand Left",r)})]})]}),a.jsxs("div",{className:"grid gap-x-3 gap-y-1 mx-12 items-center grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Leg Right",e)),cursedColor:$(I("Armor Leg Right",r),s),isOffstratPart:!((b=v("Armor Leg Right",r))!=null&&b.target),sequenceParts:v("Armor Leg Right",r)}),a.jsx(F,{text:C(N("Body Leg Right",e)),isOffstratPart:!((y=v("Body Leg Right",r))!=null&&y.target),sequenceParts:v("Body Leg Right",r)})]}),a.jsxs("div",{className:"flex flex-col gap-y-1",children:[a.jsx(U,{text:C(N("Armor Leg Left",e)),cursedColor:$(I("Armor Leg Left",r),s),isOffstratPart:!((w=v("Armor Leg Left",r))!=null&&w.target),sequenceParts:v("Armor Leg Left",r)}),a.jsx(F,{text:C(N("Body Leg Left",e)),isOffstratPart:!((R=v("Body Leg Left",r))!=null&&R.target),sequenceParts:v("Body Leg Left",r)})]})]})]})}const zs=pe.memo(qs),ge="../assets/cards";function xe(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}const ht=(e,t)=>{const s=e.parts.filter(l=>l.target&&l.name.includes(t)),r=s.reduce((l,u)=>l+u.health,0),n=s.reduce((l,u)=>l+u.current_health,0),i=e.health-r+n,o=t==="Armor"?ee(r,n):ee(e.health,i);return Math.abs(o)},ft=(e,t)=>{const s=e.parts.filter(l=>l.target&&l.name.includes(t)),r=s.reduce((l,u)=>l+u.health,0),n=s.reduce((l,u)=>l+u.current_health,0),i=e.health-r+n;return t==="Armor"?n:i};function Ws({titanArmourHealthPercentage:e,titanBodyHealthPercentage:t,titanArmourHealthValue:s,titanBodyHealthValue:r}){const n=s<0,i=r<0;return a.jsxs("div",{className:"flex flex-col items-center w-72 mx-auto",children:[a.jsx(jt,{}),a.jsx(Y,{showArrow:!0,isDisabled:n,content:`${Re().format(s)} remaining`,children:a.jsx(Se,{label:"Armor",showValueLabel:!0,"aria-label":"Titan total armour...",value:e,className:"max-w-md px-1 pb-1",size:"md",color:"default",isStriped:!0})}),a.jsx(Y,{showArrow:!0,isDisabled:i,content:`${Re().format(r)} remaining`,children:a.jsx(Se,{label:"Body",showValueLabel:!0,"aria-label":"Titan total health...",value:t,className:"max-w-md px-1 pb-1",size:"md",color:"primary",isStriped:!0})})]})}function tt({titan:e,parts:t,showConditionalSection:s=!1}){const r=e.parts.filter(p=>p.target),n=r.filter(p=>p.name.includes("Armor")),i=r.filter(p=>p.name.includes("Body")),o=()=>({curse_type:e.curse_type,parts:e.parts,id:e.id,name:e.name}),l=()=>{if(!s)return!1;const p=n.every(B=>B.current_health<=0);return i.filter(B=>B.current_health<=0).length<=i.length/2&&p},u=()=>s?i.filter(g=>g.current_health<=0).length===i.length-1:!1,h=()=>s?r.some(x=>{const g=ee(x.health,x.current_health);return x.current_health>0&&g<=30}):!1,c=()=>{if(!s)return!1;const p=i.some(g=>g.current_health<=0),x=n.some(g=>g.current_health>0);return p&&x},f=[u(),l(),c(),h()].some(Boolean);return a.jsxs("div",{className:"flex flex-col gap-8 flex-wrap",children:[a.jsx("h2",{className:"font-medium text-center",children:e.name}),a.jsx(zs,{parts:t,titanData:o()}),a.jsx(Ws,{titanArmourHealthPercentage:ht(e,"Armor"),titanBodyHealthPercentage:ht(e,"Body"),titanArmourHealthValue:ft(e,"Armor"),titanBodyHealthValue:ft(e,"Body")}),a.jsxs("div",{className:`flex flex-col gap-2 bg-neutral-400/40 rounded-xl px-4 py-2 mx-auto ${f?"block":"hidden"}`,children:[a.jsx("span",{className:"text-sm font-medium",children:"Active conditional cards"}),a.jsxs("div",{className:"flex flex-row gap-1",children:[u()?a.jsx(O,{src:xe("VictoryMarch",ge),width:36,radius:"md"}):null,l()?a.jsx(O,{src:xe("InsanityVoid",ge),width:36,radius:"md"}):null,c()?a.jsx(O,{src:xe("SkeletalSmash",ge),width:36,radius:"md"}):null,h()?a.jsx(O,{src:xe("DecayingStrike",ge),width:36,radius:"md"}):null]})]})]})}const mt=e=>{let t;const s=new Set,r=(u,h)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const f=t;t=h??(typeof c!="object"||c===null)?c:Object.assign({},t,c),s.forEach(p=>p(t,f))}},n=()=>t,l={setState:r,getState:n,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{s.clear()}};return t=e(r,n,l),l},Ks=e=>e?mt(e):mt;var Nt={exports:{}},Tt={},_t={exports:{}},Ot={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te=m;function Gs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Js=typeof Object.is=="function"?Object.is:Gs,Zs=te.useState,Xs=te.useEffect,Ys=te.useLayoutEffect,er=te.useDebugValue;function tr(e,t){var s=t(),r=Zs({inst:{value:s,getSnapshot:t}}),n=r[0].inst,i=r[1];return Ys(function(){n.value=s,n.getSnapshot=t,Me(n)&&i({inst:n})},[e,s,t]),Xs(function(){return Me(n)&&i({inst:n}),e(function(){Me(n)&&i({inst:n})})},[e]),er(s),s}function Me(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Js(e,s)}catch{return!0}}function sr(e,t){return t()}var rr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sr:tr;Ot.useSyncExternalStore=te.useSyncExternalStore!==void 0?te.useSyncExternalStore:rr;_t.exports=Ot;var ar=_t.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=m,nr=ar;function ir(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var or=typeof Object.is=="function"?Object.is:ir,lr=nr.useSyncExternalStore,cr=Le.useRef,ur=Le.useEffect,dr=Le.useMemo,hr=Le.useDebugValue;Tt.useSyncExternalStoreWithSelector=function(e,t,s,r,n){var i=cr(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=dr(function(){function u(x){if(!h){if(h=!0,c=x,x=r(x),n!==void 0&&o.hasValue){var g=o.value;if(n(g,x))return f=g}return f=x}if(g=f,or(c,x))return g;var B=r(x);return n!==void 0&&n(g,B)?g:(c=x,f=B)}var h=!1,c,f,p=s===void 0?null:s;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,s,r,n]);var l=lr(e,i[0],i[1]);return ur(function(){o.hasValue=!0,o.value=l},[l]),hr(l),l};Nt.exports=Tt;var fr=Nt.exports;const mr=Kt(fr),{useDebugValue:pr}=pe,{useSyncExternalStoreWithSelector:gr}=mr;function xr(e,t=e.getState,s){const r=gr(e.subscribe,e.getState,e.getServerState||e.getState,t,s);return pr(r),r}const pt=e=>{const t=typeof e=="function"?Ks(e):e,s=(r,n)=>xr(t,r,n);return Object.assign(s,t),s},yr=e=>e?pt(e):pt,br=yr()(e=>({titans:[],currentTitan:null,setTitans:t=>e(()=>({titans:t})),setCurrentTitan:t=>e(()=>({currentTitan:t}))})),Ce=br;function vr({data:e}){const t=Ce(s=>s.currentTitan);return t?a.jsx(Je,{selectionMode:"multiple",children:e.map(({sources:s,damage:r,titan_attack_id:n,player_name:i,occurred_at:o,parts:l})=>a.jsx(Ze,{"aria-label":`${i} did ${r} damage at ${o}`,startContent:a.jsx(Ms,{id:`${n}${o}${i}`,sources:s}),title:a.jsx("p",{className:"flex flex-row justify-between items-center pl-2",children:Re().format(r)}),subtitle:a.jsxs("p",{className:"font-bold flex flex-row justify-between items-center pl-2",children:[i," ",a.jsx("span",{className:"font-light text-xs pl-2",children:new Date(o+"Z").toLocaleTimeString([],{timeStyle:"short"})})]}),children:a.jsx(tt,{titan:t,parts:l})},n))}):null}const jr=pe.memo(vr);var Ke=new Map,ye=new WeakMap,gt=0,wr=void 0;function Ar(e){return e?(ye.has(e)||(gt+=1,ye.set(e,gt.toString())),ye.get(e)):"0"}function Sr(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Ar(e.root):e[t]}`).toString()}function Rr(e){let t=Sr(e),s=Ke.get(t);if(!s){const r=new Map;let n;const i=new IntersectionObserver(o=>{o.forEach(l=>{var u;const h=l.isIntersecting&&n.some(c=>l.intersectionRatio>=c);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=h),(u=r.get(l.target))==null||u.forEach(c=>{c(h,l)})})},e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),s={id:t,observer:i,elements:r},Ke.set(t,s)}return s}function Pr(e,t,s={},r=wr){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const u=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof s.threshold=="number"?s.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:n,observer:i,elements:o}=Rr(s);let l=o.get(e)||[];return o.has(e)||o.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),Ke.delete(n))}}function Br({threshold:e,delay:t,trackVisibility:s,rootMargin:r,root:n,triggerOnce:i,skip:o,initialInView:l,fallbackInView:u,onChange:h}={}){var c;const[f,p]=m.useState(null),x=m.useRef(),[g,B]=m.useState({inView:!!l,entry:void 0});x.current=h,m.useEffect(()=>{if(o||!f)return;let w;return w=Pr(f,(R,E)=>{B({inView:R,entry:E}),x.current&&x.current(R,E),E.isIntersecting&&i&&w&&(w(),w=void 0)},{root:n,rootMargin:r,threshold:e,trackVisibility:s,delay:t},u),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,f,n,r,i,o,s,u,t]);const P=(c=g.entry)==null?void 0:c.target,b=m.useRef();!f&&P&&!i&&!o&&b.current!==P&&(b.current=P,B({inView:!!l,entry:void 0}));const y=[p,g.inView,g.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}function kr({status:e,data:t,error:s,isFetching:r,isFetchingNextPage:n,fetchNextPage:i,hasNextPage:o}){var h;const{ref:l,inView:u}=Br();return m.useEffect(()=>{u&&i()},[i,u]),e==="pending"?a.jsx(ot,{label:"Loading...",color:"primary"}):e==="error"?"An error has occurred: "+s.message:a.jsxs(a.Fragment,{children:[(h=t==null?void 0:t.pages)==null?void 0:h.map(({attack_logs:c},f)=>a.jsx(jr,{data:c},`raid-log-page-${f}`)),a.jsx("div",{children:a.jsx("button",{ref:l,onClick:()=>i(),disabled:!o||n,children:n?a.jsx(ot,{}):o?"Load Newer":"Nothing more to load"})}),a.jsx("div",{children:r&&!n?"Background Updating...":null})]})}const Lr=25;function Cr(){return As({queryKey:["raid_attacks"],refetchOnWindowFocus:!1,queryFn:async({pageParam:e=0})=>await Be(ke.raid_attack_log.v2+"?offset="+e),initialPageParam:0,getNextPageParam:(e,t,s)=>{if(e.length!==0)return s+Lr}})}function Nr(){return Ye({queryKey:["raid_list"],queryFn:async()=>await Be(ke.raid_list)})}function Tr(){return Ye({queryKey:["raid_titans"],queryFn:async()=>await Be(ke.titans)})}function _r(){return Ye({queryKey:["cycle_data"],queryFn:async()=>await Be(ke.cycle_data)})}function Or({index:e,listLength:t,value:s}){const r=e!==t-1,n="➜";return a.jsxs("span",{className:"text-sm font-bold text-neutral-600/70 dark:text-neutral-50/70",children:[s,r?` ${n} `:null]},`${e}_morale-bonus_${s}`)}function Er({bonus:e}){return a.jsx("div",{className:"flex flex-row flex-wrap gap-x-2",children:e.map((t,s)=>a.jsx(Or,{index:s,value:t,listLength:e.length},`${s}_morale-bonus_${t}`))})}function Dr({imageUrl:e,bonus:t,title:s}){const r=t[t.length-1];return a.jsx(se,{className:"dark:bg-default",children:a.jsx(Je,{children:a.jsx(Ze,{"aria-label":`Accordion for displaying ${s} Info. Tap to open/close.`,title:a.jsxs(re,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-row items-center justify-start gap-4",children:[a.jsx("div",{className:"min-w-fit",children:a.jsx(O,{src:e,className:"rounded-lg flex object-cover w-full h-full h-8 w-8"})}),a.jsx("h3",{className:"text-md font-medium",children:s})]}),a.jsxs("div",{className:"text-xl font-bold",children:[r,a.jsx("span",{className:"text-xs font-semibold",children:" %"})]})]}),children:a.jsx(ae,{className:"pt-0",children:a.jsx(Er,{bonus:t})})},s)})})}const be=pe.memo(Dr);function Mr(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}const xt=e=>new Date(e+".000Z").toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}),Ir=e=>["st","nd","rd"][((e+90)%100-10)%10-1]||"th",$r={ArmorDamage:"Armor Damage +25%",HeadDamage:"Head Damage +30%",BurstDamage:"Burst Damage +30%",AfflictedDamage:"Affliction Damage +30%",AllRaidDamage:"All Raid Damage +15%",BurstChance:"Burst Chance +30%",AfflictedDuration:"Affliction Duration +40%",ChestDamage:"Torso Damage +30%",LimbDamage:"Limb Damage +30%",AfflictedChance:"Affliction Chance +30%",RaidAttackDuration:"Attack Duration +3s",BodyDamage:"Body Damage +20%",SupportEffect:"All Support Effects +15%"},Ur="../../../assets",Fr="RaidIcon";function yt({raidCycle:e,raidData:t}){if(!t)return null;const{buff_type:s,level:r,raid_id:n,started_at:i,tier:o}=t,l=e?"":n;return a.jsx(se,{className:"dark:bg-default",children:a.jsx(Je,{defaultExpandedKeys:[l],children:a.jsx(Ze,{"aria-label":"Accordion for displaying Raid Info. Tap to open/close.",title:a.jsxs(re,{className:"flex flex-row items-center justify-between gap-4 mt-0",children:[a.jsxs("div",{className:"flex flex-row items-center justify-start gap-4",children:[a.jsx("div",{className:"min-w-fit",children:a.jsx(O,{src:Mr(Fr,Ur),className:"rounded-lg flex object-cover w-full h-full h-8 w-8"})}),a.jsxs("h3",{className:"text-md font-medium",children:[o==="9999"?"Master Tier ⦁ ":o," ",r]})]}),e&&a.jsxs("div",{className:"text-xl font-bold",children:[e.cycle,a.jsxs("span",{className:"text-sm font-semibold",children:[Ir(e.cycle)," round"]})]})]}),children:a.jsxs(ae,{className:"pt-0",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"text-sm font-medium flex justify-between",children:[a.jsx("span",{children:"Raid Bonus"}),a.jsxs("span",{children:[$r[s]," "]})]}),a.jsxs("div",{className:"text-sm font-medium flex justify-between",children:[a.jsx("span",{children:"Raid start at "}),a.jsx(Y,{showArrow:!0,content:new Date(i).toUTCString(),children:a.jsx("span",{className:"text-sm font-medium",children:xt(i)})})]}),e&&a.jsxs("div",{className:"text-sm font-medium flex justify-between",children:[a.jsx("span",{children:"Next cycle at "}),a.jsx(Y,{showArrow:!0,content:new Date(e.next_reset_at).toUTCString(),children:a.jsx("span",{className:"text-sm font-medium",children:xt(e.next_reset_at)})})]})]}),a.jsx(jt,{y:4}),a.jsx("span",{className:"text-sm font-light text-right italic",children:"All times are local"})]})},n)})})}function ve(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}const je="../../../assets/cards";function Hr({titan:e}){if(!e)return null;const t=e.parts.filter(h=>h.target),s=t.filter(h=>h.name.includes("Armor")),r=t.filter(h=>h.name.includes("Body")),n=()=>{const h=s.every(p=>p.current_health<=0);return r.filter(p=>p.current_health<=0).length<=r.length/2&&h},i=()=>r.filter(f=>f.current_health<=0).length===r.length-1,o=()=>t.some(c=>{const f=ee(c.health,c.current_health);return c.current_health>0&&f<=30}),l=()=>{const h=r.some(f=>f.current_health<=0),c=s.some(f=>f.current_health>0);return h&&c};return[i(),n(),l(),o()].some(Boolean)?a.jsxs(se,{className:"dark:bg-default",children:[a.jsx(re,{className:"flex flex-row items-center justify-between gap-4",children:a.jsx("h3",{className:"text-md font-medium",children:"Active conditional cards"})}),a.jsxs(ae,{className:"pt-0 flex flex-row gap-1",children:[i()?a.jsx(O,{src:ve("VictoryMarch",je),width:36,radius:"md"}):null,n()?a.jsx(O,{src:ve("InsanityVoid",je),width:36,radius:"md"}):null,l()?a.jsx(O,{src:ve("SkeletalSmash",je),width:36,radius:"md"}):null,o()?a.jsx(O,{src:ve("DecayingStrike",je),width:36,radius:"md"}):null]})]}):null}const Vr="../../../assets/titans/avatars",Qr="_avatar";function qr(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}function zr({children:e}){const{titans:t,currentTitan:s}=Ce(),[r,n]=m.useState();m.useEffect(()=>{s&&n(s)},[s]);const i=o=>{n(t.find(l=>l.id===o))};return a.jsxs(se,{children:[a.jsx(re,{className:"flex flex-row items-center justify-between mt-0 p-4",children:a.jsx("h2",{className:"text-md font-semibold",children:"Raid info"})}),a.jsxs(ae,{className:"flex flex-row lg:gap-36 md:gap-12",children:[a.jsx("div",{className:"flex flex-col gap-2 justify-between sm:justify-normal flex-wrap",children:t.map(o=>a.jsx("div",{className:"flex flex-row items-center rounded-md",children:a.jsx(Ge,{size:"lg",onPress:()=>i(o.id),color:(r==null?void 0:r.sequence_index)===o.sequence_index?"primary":"default",startContent:a.jsx("span",{children:o.sequence_index+1}),endContent:a.jsx(wt,{src:qr(o.name+Qr,Vr),name:o.name,size:"lg",radius:"md"})})},o.id))}),r&&a.jsx(tt,{titan:r,showConditionalSection:!1,parts:r.parts.map(({name:o,current_health:l})=>({name:o,value:l}))}),a.jsxs("div",{className:"flex flex-col gap-4",children:[e,a.jsx(Hr,{titan:r})]})]})]})}function Wr(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}const Kr="../../../assets/titans/avatars",Gr="_avatar";function Jr(){const{titans:e,currentTitan:t}=Ce(),[s,r]=m.useState();m.useEffect(()=>{t&&r(t)},[t]);const n=i=>{r(e.find(o=>o.id===i))};return a.jsxs(se,{children:[a.jsx(re,{className:"flex flex-row items-center justify-between mt-0 p-4",children:a.jsx("h2",{className:"text-md font-semibold",children:"Titan State"})}),a.jsxs(ae,{className:"flex flex-col gap-4",children:[a.jsx("div",{className:"flex flex-row gap-2 justify-between sm:justify-normal flex-wrap",children:e.map(i=>a.jsxs("div",{className:`flex flex-col items-center rounded-md p-1 ${(s==null?void 0:s.sequence_index)===i.sequence_index?"bg-primary/50":"bg-default"}`,onClick:()=>n(i.id),children:[a.jsx(wt,{src:Wr(i.name+Gr,Kr),name:i.name,size:"sm",radius:"sm"}),i.sequence_index+1]},i.id))}),s&&a.jsx(tt,{titan:s,showConditionalSection:!0,parts:s.parts.map(({name:i,current_health:o})=>({name:i,value:o}))})]})]})}function Zr(){const[e,t]=m.useState(localStorage.getItem("darkMode")==="true");m.useEffect(()=>{const r=localStorage.getItem("darkMode")==="true";t(r)},[]),m.useEffect(()=>{document.documentElement.classList.toggle("dark",e),localStorage.setItem("darkMode",String(e))},[e]);const s=()=>{t(r=>!r)};return a.jsx(Ge,{onClick:s,isIconOnly:!0,variant:"light","aria-label":"Toggle between dark and light mode",children:e?a.jsx(os,{}):a.jsx(ls,{})})}const Xr=["Dashboard","Alchemy"],Yr="../../assets",ea="Logo",we="../../assets/cards";function ne(e,t){const s=`${t}/${e}.webp`;return new URL(s,import.meta.url).href}function ia(){var p,x,g,B,P;const{matches:e}=Ns({screen:"screen",width:"(min-width: 924px)"}),[t,s]=m.useState(!1),{setTitans:r,setCurrentTitan:n,titans:i}=Ce(),o=_r(),l=Cr(),{data:u}=Tr(),{data:h}=Nr();m.useEffect(()=>{u&&r(u.titans)},[u,r]),m.useEffect(()=>{var w,R,E,M;if(!i||!((w=l.data)!=null&&w.pages))return;let b;if((R=l.data.pages.at(0))!=null&&R.attack_logs.at(0)||(b=i.at(0)),b||(b=i.at(0)),b){n(b);return}const y=(M=(E=l.data.pages.at(0))==null?void 0:E.attack_logs.at(0))==null?void 0:M.raid_titan_id;y&&(b=i.find(k=>k.id===y),b&&n(b))},[(p=l.data)==null?void 0:p.pages,i]);const c=m.useMemo(()=>{var y;return!o.data||!o.data.cycles.length?["0"]:((y=o.data)==null||y.cycles.sort((w,R)=>w.cycle>R.cycle?1:-1),o.data.cycles.map(({morale:w,team_tactics:R})=>((w+R)*100).toFixed(2)))},[(x=o.data)==null?void 0:x.cycles.length]),f=m.useMemo(()=>{var y;return!o.data||!o.data.cycles.length?["0"]:((y=o.data)==null||y.cycles.sort((w,R)=>w.cycle>R.cycle?1:-1),o.data.cycles.map(({mirror_force:w})=>(w*100).toFixed(0)))},[(g=o.data)==null?void 0:g.cycles.length]);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"xl:w-5/6 w-full 2xl:max-w-[1640px] grid items-center",children:a.jsxs(ss,{onMenuOpenChange:s,isBlurred:!0,isBordered:!0,children:[a.jsxs(Ee,{children:[a.jsx(rs,{"aria-label":t?"Close menu":"Open menu",className:"md:hidden"}),a.jsxs(as,{className:"gap-2 min-w-fit",children:[a.jsx("div",{className:"h-10 w-10",children:a.jsx(O,{src:ne(ea,Yr),radius:"sm"})}),a.jsx("p",{className:"font-bold text-inherit",children:"TitanTech"})]})]}),a.jsxs(Ee,{className:"hidden md:flex gap-4",justify:"center",children:[a.jsx(De,{isActive:!0,children:a.jsx(Oe,{href:"/dashboard","aria-current":"page",children:"Dashboard"})}),a.jsx(De,{children:a.jsx(Oe,{href:"/alchemy",color:"foreground",children:"Alchemy"})})]}),a.jsx(Ee,{justify:"end",children:a.jsx(De,{className:"flex flex-row items-center justify-end gap-4",children:a.jsx(Zr,{})})}),a.jsx(ns,{className:"z-50 mt-4",children:Xr.map((b,y)=>a.jsx(is,{children:a.jsx(Oe,{color:y===0?"primary":"foreground",className:"w-full",href:`/${b}`,size:"lg",children:b})},`${b}-${y}`))})]})}),a.jsxs("div",{className:"grid grid-cols-1 py-6 gap-4 lg:gap-x-0 lg:grid-cols-2",children:[e.width?null:a.jsx("div",{className:"lg:col-span-1 lg:row-start-0",children:a.jsx(yt,{raidData:h==null?void 0:h.raids.at(0),raidCycle:(B=o.data)==null?void 0:B.cycles.sort((b,y)=>b.cycle>y.cycle?1:-1).at(-1)})}),e.width?null:a.jsx("div",{className:"lg:col-span-1 lg:col-start-1 lg:row-start-2",children:a.jsx(be,{title:"Morale",imageUrl:ne("TeamTactics",we),bonus:c})}),e.width?null:a.jsx("div",{className:"lg:col-span-1 lg:col-start-1 lg:row-start-3",children:a.jsx(be,{title:"Mirror Force",imageUrl:ne("MirrorForce",we),bonus:f})}),e.width?a.jsx("div",{className:"lg:col-span-2 lg:col-start-0 lg:row-start-1 lg:row-span-5",children:a.jsx(zr,{children:a.jsxs(a.Fragment,{children:[a.jsx(yt,{raidData:h==null?void 0:h.raids.at(0),raidCycle:(P=o.data)==null?void 0:P.cycles.sort((b,y)=>b.cycle>y.cycle?1:-1).at(-1)}),a.jsx(be,{title:"Morale",imageUrl:ne("TeamTactics",we),bonus:c}),a.jsx(be,{title:"Mirror Force",imageUrl:ne("MirrorForce",we),bonus:f})]})})}):a.jsx("div",{className:"lg:col-span-1 lg:col-start-2 lg:row-start-1 lg:row-span-5",children:a.jsx(Jr,{})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs(se,{className:"col-span-4 p-4",children:[a.jsxs(re,{className:"p-0 justify-between",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Latest Raid Attacks"}),a.jsx(Ge,{size:"sm",color:"primary",onPress:()=>l.refetch(),children:"Refresh"})]}),a.jsx(ae,{className:"p-0 ",children:a.jsx(kr,{...l})})]})})]})]})}export{ia as default};
