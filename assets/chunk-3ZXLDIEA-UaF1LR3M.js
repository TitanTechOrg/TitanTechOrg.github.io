import{b5 as nt,ao as qe,H as de,r as p,F as xe,b6 as rt,aj as me,b7 as st,az as at,t as ct,d as dt,al as Q,b8 as ut,b9 as ft,B as ht,ap as Te,$ as U,ba as ye,U as Me,bb as pt,at as ue,z as gt,n as Ze,x as bt,aq as mt,g as yt,h as vt,bc as $t,o as Kt,b as _,a as xt,f as wt,j as A,L as St,e as Ct,m as Pt,bd as Le,A as Et}from"./index-Cho9N5g_.js";import{a as It,e as Tt,b as Mt,$ as we,c as Lt}from"./chunk-736YWA4T-kqofpD3x.js";import{u as Dt}from"./index-Frfm5xWG.js";var Ot={},De={};function At(l,e,...t){var i;const n=`[Next UI]${e?` [${e}]`:" "}: ${l}`;if(!(typeof console>"u")&&!De[n]&&(De[n]=!0,((i=process==null?void 0:Ot)==null?void 0:i.NODE_ENV)!=="production"))return console.warn(n,t)}function Rt(l,e){if(l!=null){if(nt(l)){l(e);return}try{l.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${l}'`)}}}function Ft(...l){return e=>{l.forEach(t=>Rt(t,e))}}function Tl(l,e){let{id:t,"aria-label":i,"aria-labelledby":o}=l;return t=qe(t),o&&i?o=[...new Set([t,...o.trim().split(/\s+/)])].join(" "):o&&(o=o.trim().split(/\s+/).join(" ")),!i&&!o&&e&&(i=e),{id:t,"aria-label":i,"aria-labelledby":o}}function ve(l,e){let t=window.getComputedStyle(l),i=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return i&&e&&(i=l.scrollHeight!==l.clientHeight||l.scrollWidth!==l.clientWidth),i}function Bt(l,e){const t=[];for(;l&&l!==document.documentElement;)ve(l,e)&&t.push(l),l=l.parentElement;return t}function zt(l,e,t,i){let o=de(t),n=t==null;p.useEffect(()=>{if(n||!l.current)return;let r=l.current;return r.addEventListener(e,o,i),()=>{r.removeEventListener(e,o,i)}},[l,e,i,n,o])}function Ge(l,e){let t=Oe(l,e,"left"),i=Oe(l,e,"top"),o=e.offsetWidth,n=e.offsetHeight,r=l.scrollLeft,s=l.scrollTop,{borderTopWidth:a,borderLeftWidth:d}=getComputedStyle(l),u=l.scrollLeft+parseInt(d,10),b=l.scrollTop+parseInt(a,10),h=u+l.clientWidth,c=b+l.clientHeight;t<=r?r=t-parseInt(d,10):t+o>h&&(r+=t+o-h),i<=b?s=i-parseInt(a,10):i+n>c&&(s+=i+n-c),l.scrollLeft=r,l.scrollTop=s}function Oe(l,e,t){const i=t==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[i],e.offsetParent!==l);){if(e.offsetParent.contains(l)){o-=l[i];break}e=e.offsetParent}return o}function Ae(l,e){if(document.contains(l)){let r=document.scrollingElement||document.documentElement;if(window.getComputedStyle(r).overflow==="hidden"){let a=Bt(l);for(let d of a)Ge(d,l)}else{var t;let{left:a,top:d}=l.getBoundingClientRect();l==null||(t=l.scrollIntoView)===null||t===void 0||t.call(l,{block:"nearest"});let{left:u,top:b}=l.getBoundingClientRect();if(Math.abs(a-u)>1||Math.abs(d-b)>1){var i,o,n;e==null||(o=e.containingElement)===null||o===void 0||(i=o.scrollIntoView)===null||i===void 0||i.call(o,{block:"center",inline:"center"}),(n=l.scrollIntoView)===null||n===void 0||n.call(l,{block:"nearest"})}}}}function Ml(l,e,t){let i=p.useRef(e),o=de(()=>{t&&t(i.current)});p.useEffect(()=>{var n;let r=l==null||(n=l.current)===null||n===void 0?void 0:n.form;return r==null||r.addEventListener("reset",o),()=>{r==null||r.removeEventListener("reset",o)}},[l,o])}function $e(l,e=-1/0,t=1/0){return Math.min(Math.max(l,e),t)}function se(l,e){let t=l,i=e.toString(),o=i.indexOf("."),n=o>=0?i.length-o:0;if(n>0){let r=Math.pow(10,n);t=Math.round(t*r)/r}return t}function Ll(l,e,t,i){e=Number(e),t=Number(t);let o=(l-(isNaN(e)?0:e))%i,n=se(Math.abs(o)*2>=i?l+Math.sign(o)*(i-Math.abs(o)):l-o,i);return isNaN(e)?!isNaN(t)&&n>t&&(n=Math.floor(se(t/i,i))*i):n<e?n=e:!isNaN(t)&&n>t&&(n=e+Math.floor(se((t-e)/i,i))*i),n=se(n,i),n}let he=new Map;function Ht(l){let{locale:e}=xe(),t=e+(l?Object.entries(l).sort((o,n)=>o[0]<n[0]?-1:1).join():"");if(he.has(t))return he.get(t);let i=new Intl.Collator(e,l);return he.set(t,i),i}const ee={top:"top",bottom:"top",left:"left",right:"left"},fe={top:"bottom",bottom:"top",left:"right",right:"left"},Nt={top:"left",left:"top"},Ke={top:"height",left:"width"},Je={width:"totalWidth",height:"totalHeight"},ae={};let D=typeof document<"u"&&window.visualViewport;function Re(l){let e=0,t=0,i=0,o=0,n=0,r=0,s={},a=(D==null?void 0:D.scale)>1;if(l.tagName==="BODY"){let b=document.documentElement;i=b.clientWidth,o=b.clientHeight;var d;e=(d=D==null?void 0:D.width)!==null&&d!==void 0?d:i;var u;t=(u=D==null?void 0:D.height)!==null&&u!==void 0?u:o,s.top=b.scrollTop||l.scrollTop,s.left=b.scrollLeft||l.scrollLeft,D&&(n=D.offsetTop,r=D.offsetLeft)}else({width:e,height:t,top:n,left:r}=te(l)),s.top=l.scrollTop,s.left=l.scrollLeft,i=e,o=t;return rt()&&(l.tagName==="BODY"||l.tagName==="HTML")&&a&&(s.top=0,s.left=0,n=D.pageTop,r=D.pageLeft),{width:e,height:t,totalWidth:i,totalHeight:o,scroll:s,top:n,left:r}}function kt(l){return{top:l.scrollTop,left:l.scrollLeft,width:l.scrollWidth,height:l.scrollHeight}}function Fe(l,e,t,i,o,n,r){let s=o.scroll[l],a=i[Ke[l]],d=i.scroll[ee[l]]+n,u=a+i.scroll[ee[l]]-n,b=e-s+r[l]-i[ee[l]],h=e-s+t+r[l]-i[ee[l]];return b<d?d-b:h>u?Math.max(u-h,d-b):0}function jt(l){let e=window.getComputedStyle(l);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function Be(l){if(ae[l])return ae[l];let[e,t]=l.split(" "),i=ee[e]||"right",o=Nt[i];ee[t]||(t="center");let n=Ke[i],r=Ke[o];return ae[l]={placement:e,crossPlacement:t,axis:i,crossAxis:o,size:n,crossSize:r},ae[l]}function pe(l,e,t,i,o,n,r,s,a,d){let{placement:u,crossPlacement:b,axis:h,crossAxis:c,size:g,crossSize:v}=i,m={};m[c]=l[c],b==="center"?m[c]+=(l[v]-t[v])/2:b!==c&&(m[c]+=l[v]-t[v]),m[c]+=n;const $=l[c]-t[v]+a+d,K=l[c]+l[v]-a-d;if(m[c]=$e(m[c],$,K),u===h){const x=s?r[g]:e[Je[g]];m[fe[h]]=Math.floor(x-l[h]+o)}else m[h]=Math.floor(l[h]+l[g]+o);return m}function Yt(l,e,t,i,o,n,r,s){const a=i?t.height:e[Je.height];let d=l.top!=null?t.top+l.top:t.top+(a-l.bottom-r),u=s!=="top"?Math.max(0,e.height+e.top+e.scroll.top-d-(o.top+o.bottom+n)):Math.max(0,d+r-(e.top+e.scroll.top)-(o.top+o.bottom+n));return Math.min(e.height-n*2,u)}function ze(l,e,t,i,o,n){let{placement:r,axis:s,size:a}=n;return r===s?Math.max(0,t[s]-l[s]-l.scroll[s]+e[s]-i[s]-i[fe[s]]-o):Math.max(0,l[a]+l[s]+l.scroll[s]-e[s]-t[s]-t[a]-i[s]-i[fe[s]]-o)}function Wt(l,e,t,i,o,n,r,s,a,d,u,b,h,c,g,v){let m=Be(l),{size:$,crossAxis:K,crossSize:x,placement:C,crossPlacement:M}=m,S=pe(e,s,t,m,u,b,d,h,g,v),R=u,I=ze(s,d,e,o,n+u,m);if(r&&i[$]>I){let H=Be(`${fe[C]} ${M}`),y=pe(e,s,t,H,u,b,d,h,g,v);ze(s,d,e,o,n+u,H)>I&&(m=H,S=y,R=u)}let E="bottom";m.axis==="top"?m.placement==="top"?E="top":m.placement==="bottom"&&(E="bottom"):m.crossAxis==="top"&&(m.crossPlacement==="top"?E="bottom":m.crossPlacement==="bottom"&&(E="top"));let f=Fe(K,S[K],t[x],s,a,n,d);S[K]+=f;let w=Yt(S,s,d,h,o,n,t.height,E);c&&c<w&&(w=c),t.height=Math.min(t.height,w),S=pe(e,s,t,m,R,b,d,h,g,v),f=Fe(K,S[K],t[x],s,a,n,d),S[K]+=f;let T={},L=e[K]+.5*e[x]-S[K];const F=g/2+v,B=t[x]-g/2-v,z=e[K]-S[K]+g/2,Y=e[K]+e[x]-S[K]-g/2,V=$e(L,z,Y);return T[K]=$e(V,F,B),{position:S,maxHeight:w,arrowOffsetLeft:T.left,arrowOffsetTop:T.top,placement:m.placement}}function Xt(l){let{placement:e,targetNode:t,overlayNode:i,scrollNode:o,padding:n,shouldFlip:r,boundaryElement:s,offset:a,crossOffset:d,maxHeight:u,arrowSize:b=0,arrowBoundaryOffset:h=0}=l,c=i instanceof HTMLElement?Ut(i):document.documentElement,g=c===document.documentElement;const v=window.getComputedStyle(c).position;let m=!!v&&v!=="static",$=g?te(t):He(t,c);if(!g){let{marginTop:I,marginLeft:E}=window.getComputedStyle(t);$.top+=parseInt(I,10)||0,$.left+=parseInt(E,10)||0}let K=te(i),x=jt(i);K.width+=x.left+x.right,K.height+=x.top+x.bottom;let C=kt(o),M=Re(s),S=Re(c),R=s.tagName==="BODY"?te(c):He(c,s);return c.tagName==="HTML"&&s.tagName==="BODY"&&(S.scroll.top=0,S.scroll.left=0),Wt(e,$,K,C,x,n,r,M,S,R,a,d,m,u,b,h)}function te(l){let{top:e,left:t,width:i,height:o}=l.getBoundingClientRect(),{scrollTop:n,scrollLeft:r,clientTop:s,clientLeft:a}=document.documentElement;return{top:e+n-s,left:t+r-a,width:i,height:o}}function He(l,e){let t=window.getComputedStyle(l),i;if(t.position==="fixed"){let{top:o,left:n,width:r,height:s}=l.getBoundingClientRect();i={top:o,left:n,width:r,height:s}}else{i=te(l);let o=te(e),n=window.getComputedStyle(e);o.top+=(parseInt(n.borderTopWidth,10)||0)-e.scrollTop,o.left+=(parseInt(n.borderLeftWidth,10)||0)-e.scrollLeft,i.top-=o.top,i.left-=o.left}return i.top-=parseInt(t.marginTop,10)||0,i.left-=parseInt(t.marginLeft,10)||0,i}function Ut(l){let e=l.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!Ne(e)&&(e=document.documentElement),e==null)for(e=l.parentElement;e&&!Ne(e);)e=e.parentElement;return e||document.documentElement}function Ne(l){let e=window.getComputedStyle(l);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const Vt=new WeakMap;function qt(l){let{triggerRef:e,isOpen:t,onClose:i}=l;p.useEffect(()=>{if(!t||i===null)return;let o=n=>{let r=n.target;if(!e.current||r instanceof Node&&!r.contains(e.current))return;let s=i||Vt.get(e.current);s&&s()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[t,i,e])}let P=typeof document<"u"&&window.visualViewport;function Zt(l){let{direction:e}=xe(),{arrowSize:t=0,targetRef:i,overlayRef:o,scrollRef:n=o,placement:r="bottom",containerPadding:s=12,shouldFlip:a=!0,boundaryElement:d=typeof document<"u"?document.body:null,offset:u=0,crossOffset:b=0,shouldUpdatePosition:h=!0,isOpen:c=!0,onClose:g,maxHeight:v,arrowBoundaryOffset:m=0}=l,[$,K]=p.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),x=[h,r,o.current,i.current,n.current,s,a,d,u,b,c,e,v,m,t],C=p.useRef(P==null?void 0:P.scale);p.useEffect(()=>{c&&(C.current=P==null?void 0:P.scale)},[c]);let M=p.useCallback(()=>{if(h===!1||!c||!o.current||!i.current||!n.current||!d||(P==null?void 0:P.scale)!==C.current)return;let I=o.current;if(!v&&o.current){var E;I.style.top="0px",I.style.bottom="";var f;I.style.maxHeight=((f=(E=window.visualViewport)===null||E===void 0?void 0:E.height)!==null&&f!==void 0?f:window.innerHeight)+"px"}let w=Xt({placement:Jt(r,e),overlayNode:o.current,targetNode:i.current,scrollNode:n.current,padding:s,shouldFlip:a,boundaryElement:d,offset:u,crossOffset:b,maxHeight:v,arrowSize:t,arrowBoundaryOffset:m});I.style.top="",I.style.bottom="",Object.keys(w.position).forEach(T=>I.style[T]=w.position[T]+"px"),I.style.maxHeight=w.maxHeight!=null?w.maxHeight+"px":void 0,K(w)},x);me(M,x),Gt(M),It({ref:o,onResize:M});let S=p.useRef(!1);me(()=>{let I,E=()=>{S.current=!0,clearTimeout(I),I=setTimeout(()=>{S.current=!1},500),M()},f=()=>{S.current&&E()};return P==null||P.addEventListener("resize",E),P==null||P.addEventListener("scroll",f),()=>{P==null||P.removeEventListener("resize",E),P==null||P.removeEventListener("scroll",f)}},[M]);let R=p.useCallback(()=>{S.current||g()},[g,S]);return qt({triggerRef:i,isOpen:c,onClose:g&&R}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...$.position,maxHeight:$.maxHeight}},placement:$.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:$.arrowOffsetLeft,top:$.arrowOffsetTop}},updatePosition:M}}function Gt(l){me(()=>(window.addEventListener("resize",l,!1),()=>{window.removeEventListener("resize",l,!1)}),[l])}function Jt(l,e){return e==="rtl"?l.replace("start","right").replace("end","left"):l.replace("start","left").replace("end","right")}function Qt(l){let{ref:e,onInteractOutside:t,isDisabled:i,onInteractOutsideStart:o}=l,n=p.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),r=de(a=>{t&&ce(a,e)&&(o&&o(a),n.current.isPointerDown=!0)}),s=de(a=>{t&&t(a)});p.useEffect(()=>{let a=n.current;if(i)return;const d=e.current,u=st(d);if(typeof PointerEvent<"u"){let b=h=>{a.isPointerDown&&ce(h,e)&&s(h),a.isPointerDown=!1};return u.addEventListener("pointerdown",r,!0),u.addEventListener("pointerup",b,!0),()=>{u.removeEventListener("pointerdown",r,!0),u.removeEventListener("pointerup",b,!0)}}else{let b=c=>{a.ignoreEmulatedMouseEvents?a.ignoreEmulatedMouseEvents=!1:a.isPointerDown&&ce(c,e)&&s(c),a.isPointerDown=!1},h=c=>{a.ignoreEmulatedMouseEvents=!0,a.isPointerDown&&ce(c,e)&&s(c),a.isPointerDown=!1};return u.addEventListener("mousedown",r,!0),u.addEventListener("mouseup",b,!0),u.addEventListener("touchstart",r,!0),u.addEventListener("touchend",h,!0),()=>{u.removeEventListener("mousedown",r,!0),u.removeEventListener("mouseup",b,!0),u.removeEventListener("touchstart",r,!0),u.removeEventListener("touchend",h,!0)}}},[e,i,r,s])}function ce(l,e){if(l.button>0)return!1;if(l.target){const t=l.target.ownerDocument;if(!t||!t.documentElement.contains(l.target)||l.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(l.target)}const W=[];function _t(l,e){let{onClose:t,shouldCloseOnBlur:i,isOpen:o,isDismissable:n=!1,isKeyboardDismissDisabled:r=!1,shouldCloseOnInteractOutside:s}=l;p.useEffect(()=>(o&&W.push(e),()=>{let g=W.indexOf(e);g>=0&&W.splice(g,1)}),[o,e]);let a=()=>{W[W.length-1]===e&&t&&t()},d=g=>{(!s||s(g.target))&&W[W.length-1]===e&&(g.stopPropagation(),g.preventDefault())},u=g=>{(!s||s(g.target))&&(W[W.length-1]===e&&(g.stopPropagation(),g.preventDefault()),a())},b=g=>{g.key==="Escape"&&!r&&!g.nativeEvent.isComposing&&(g.stopPropagation(),g.preventDefault(),a())};Qt({ref:e,onInteractOutside:n&&o?u:null,onInteractOutsideStart:d});let{focusWithinProps:h}=at({isDisabled:!i,onBlurWithin:g=>{!g.relatedTarget||Tt(g.relatedTarget)||(!s||s(g.relatedTarget))&&t()}}),c=g=>{g.target===g.currentTarget&&g.preventDefault()};return{overlayProps:{onKeyDown:b,...h},underlayProps:{onPointerDown:c}}}var ke=ct({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...dt],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:Q.solid.foreground},primary:{base:"before:bg-primary",content:Q.solid.primary},secondary:{base:"before:bg-secondary",content:Q.solid.secondary},success:{base:"before:bg-success",content:Q.solid.success},warning:{base:"before:bg-warning",content:Q.solid.warning},danger:{base:"before:bg-danger",content:Q.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]});function je(l){return ut()?l.altKey:l.ctrlKey}function le(l){return ft()?l.metaKey:l.ctrlKey}const el=1e3;function tl(l){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:i}=l,o=p.useRef({search:"",timeout:null}).current,n=r=>{let s=ll(r.key);if(!s||r.ctrlKey||r.metaKey||!r.currentTarget.contains(r.target))return;s===" "&&o.search.trim().length>0&&(r.preventDefault(),"continuePropagation"in r||r.stopPropagation()),o.search+=s;let a=e.getKeyForSearch(o.search,t.focusedKey);a==null&&(a=e.getKeyForSearch(o.search)),a!=null&&(t.setFocusedKey(a),i&&i(a)),clearTimeout(o.timeout),o.timeout=setTimeout(()=>{o.search=""},el)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?n:null}}}function ll(l){return l.length===1||!/^[A-Z]/i.test(l)?l:""}function il(l){let{selectionManager:e,keyboardDelegate:t,ref:i,autoFocus:o=!1,shouldFocusWrap:n=!1,disallowEmptySelection:r=!1,disallowSelectAll:s=!1,selectOnFocus:a=e.selectionBehavior==="replace",disallowTypeAhead:d=!1,shouldUseVirtualFocus:u,allowsTabNavigation:b=!1,isVirtualized:h,scrollRef:c=i,linkBehavior:g="action"}=l,{direction:v}=xe(),m=ht(),$=f=>{if(f.altKey&&f.key==="Tab"&&f.preventDefault(),!i.current.contains(f.target))return;const w=(y,O)=>{if(y!=null){if(e.isLink(y)&&g==="selection"&&a&&!je(f)){pt.flushSync(()=>{e.setFocusedKey(y,O)});let N=c.current.querySelector(`[data-key="${CSS.escape(y.toString())}"]`),q=e.getItemProps(y);m.open(N,f,q.href,q.routerOptions);return}if(e.setFocusedKey(y,O),e.isLink(y)&&g==="override")return;f.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(y):a&&!je(f)&&e.replaceSelection(y)}};switch(f.key){case"ArrowDown":if(t.getKeyBelow){var T,L;f.preventDefault();let y=e.focusedKey!=null?t.getKeyBelow(e.focusedKey):(T=t.getFirstKey)===null||T===void 0?void 0:T.call(t);y==null&&n&&(y=(L=t.getFirstKey)===null||L===void 0?void 0:L.call(t,e.focusedKey)),w(y)}break;case"ArrowUp":if(t.getKeyAbove){var F,B;f.preventDefault();let y=e.focusedKey!=null?t.getKeyAbove(e.focusedKey):(F=t.getLastKey)===null||F===void 0?void 0:F.call(t);y==null&&n&&(y=(B=t.getLastKey)===null||B===void 0?void 0:B.call(t,e.focusedKey)),w(y)}break;case"ArrowLeft":if(t.getKeyLeftOf){var z,Y;f.preventDefault();let y=t.getKeyLeftOf(e.focusedKey);y==null&&n&&(y=v==="rtl"?(z=t.getFirstKey)===null||z===void 0?void 0:z.call(t,e.focusedKey):(Y=t.getLastKey)===null||Y===void 0?void 0:Y.call(t,e.focusedKey)),w(y,v==="rtl"?"first":"last")}break;case"ArrowRight":if(t.getKeyRightOf){var V,H;f.preventDefault();let y=t.getKeyRightOf(e.focusedKey);y==null&&n&&(y=v==="rtl"?(V=t.getLastKey)===null||V===void 0?void 0:V.call(t,e.focusedKey):(H=t.getFirstKey)===null||H===void 0?void 0:H.call(t,e.focusedKey)),w(y,v==="rtl"?"last":"first")}break;case"Home":if(t.getFirstKey){f.preventDefault();let y=t.getFirstKey(e.focusedKey,le(f));e.setFocusedKey(y),le(f)&&f.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(y):a&&e.replaceSelection(y)}break;case"End":if(t.getLastKey){f.preventDefault();let y=t.getLastKey(e.focusedKey,le(f));e.setFocusedKey(y),le(f)&&f.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(y):a&&e.replaceSelection(y)}break;case"PageDown":if(t.getKeyPageBelow){f.preventDefault();let y=t.getKeyPageBelow(e.focusedKey);w(y)}break;case"PageUp":if(t.getKeyPageAbove){f.preventDefault();let y=t.getKeyPageAbove(e.focusedKey);w(y)}break;case"a":le(f)&&e.selectionMode==="multiple"&&s!==!0&&(f.preventDefault(),e.selectAll());break;case"Escape":!r&&e.selectedKeys.size!==0&&(f.stopPropagation(),f.preventDefault(),e.clearSelection());break;case"Tab":if(!b){if(f.shiftKey)i.current.focus();else{let y=Mt(i.current,{tabbable:!0}),O,N;do N=y.lastChild(),N&&(O=N);while(N);O&&!O.contains(document.activeElement)&&Me(O)}break}}},K=p.useRef({top:0,left:0});zt(c,"scroll",h?null:()=>{K.current={top:c.current.scrollTop,left:c.current.scrollLeft}});let x=f=>{if(e.isFocused){f.currentTarget.contains(f.target)||e.setFocused(!1);return}if(f.currentTarget.contains(f.target)){if(e.setFocused(!0),e.focusedKey==null){let L=B=>{B!=null&&(e.setFocusedKey(B),a&&e.replaceSelection(B))},F=f.relatedTarget;var w,T;F&&f.currentTarget.compareDocumentPosition(F)&Node.DOCUMENT_POSITION_FOLLOWING?L((w=e.lastSelectedKey)!==null&&w!==void 0?w:t.getLastKey()):L((T=e.firstSelectedKey)!==null&&T!==void 0?T:t.getFirstKey())}else h||(c.current.scrollTop=K.current.top,c.current.scrollLeft=K.current.left);if(!h&&e.focusedKey!=null){let L=c.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);L&&(L.contains(document.activeElement)||Me(L),ye()==="keyboard"&&Ae(L,{containingElement:i.current}))}}},C=f=>{f.currentTarget.contains(f.relatedTarget)||e.setFocused(!1)};const M=p.useRef(o);p.useEffect(()=>{if(M.current){let f=null;o==="first"&&(f=t.getFirstKey()),o==="last"&&(f=t.getLastKey());let w=e.selectedKeys;if(w.size){for(let T of w)if(e.canSelectItem(T)){f=T;break}}e.setFocused(!0),e.setFocusedKey(f),f==null&&!u&&Te(i.current)}},[]);let S=p.useRef(e.focusedKey);p.useEffect(()=>{let f=ye();if(e.isFocused&&e.focusedKey!=null&&(c!=null&&c.current)){let w=c.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);w&&(f==="keyboard"||M.current)&&(h||Ge(c.current,w),f!=="virtual"&&Ae(w,{containingElement:i.current}))}e.isFocused&&e.focusedKey==null&&S.current!=null&&Te(i.current),S.current=e.focusedKey,M.current=!1},[h,c,e.focusedKey,e.isFocused,i]);let R={onKeyDown:$,onFocus:x,onBlur:C,onMouseDown(f){c.current===f.target&&f.preventDefault()}},{typeSelectProps:I}=tl({keyboardDelegate:t,selectionManager:e});d||(R=U(I,R));let E;return u||(E=e.focusedKey==null?0:-1),{collectionProps:{...R,tabIndex:E}}}class ol{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}getNextKey(e){for(e=this.collection.getKeyAfter(e);e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,i){let o=this.getItem(e);if(!o)return null;let n=o.getBoundingClientRect();do e=t(e),o=this.getItem(e);while(o&&i(n,o.getBoundingClientRect()));return e}isSameRow(e,t){return e.top===t.top||e.left!==t.left}isSameColumn(e,t){return e.left===t.left||e.top!==t.top}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,t=>this.getNextColumn(t,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,t=>this.getNextColumn(t,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();for(;e!=null;){let t=this.collection.getItem(e);if((t==null?void 0:t.type)==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return e!==null?this.ref.current.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null}getKeyPageAbove(e){let t=this.ref.current,i=this.getItem(e);if(!i)return null;if(!ve(t))return this.getFirstKey();let o=t.getBoundingClientRect(),n=i.getBoundingClientRect();if(this.orientation==="horizontal"){let r=o.x-t.scrollLeft,s=Math.max(0,n.x-r+n.width-o.width);for(;i&&n.x-r>s;)e=this.getKeyAbove(e),i=e==null?null:this.getItem(e),n=i==null?void 0:i.getBoundingClientRect()}else{let r=o.y-t.scrollTop,s=Math.max(0,n.y-r+n.height-o.height);for(;i&&n.y-r>s;)e=this.getKeyAbove(e),i=e==null?null:this.getItem(e),n=i==null?void 0:i.getBoundingClientRect()}return e??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,i=this.getItem(e);if(!i)return null;if(!ve(t))return this.getLastKey();let o=t.getBoundingClientRect(),n=i.getBoundingClientRect();if(this.orientation==="horizontal"){let r=o.x-t.scrollLeft,s=Math.min(t.scrollWidth,n.x-r-n.width+o.width);for(;i&&n.x-r<s;)e=this.getKeyBelow(e),i=e==null?null:this.getItem(e),n=i==null?void 0:i.getBoundingClientRect()}else{let r=o.y-t.scrollTop,s=Math.min(t.scrollHeight,n.y-r-n.height+o.height);for(;i&&n.y-r<s;)e=this.getKeyBelow(e),i=e==null?null:this.getItem(e),n=i==null?void 0:i.getBoundingClientRect()}return e??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let i=this.collection,o=t||this.getFirstKey();for(;o!=null;){let n=i.getItem(o),r=n.textValue.slice(0,e.length);if(n.textValue&&this.collator.compare(r,e)===0)return o;o=this.getKeyBelow(o)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation,this.direction=t.direction,this.layout=t.layout||"stack"}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all";this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Dl(l){let{selectionManager:e,collection:t,disabledKeys:i,ref:o,keyboardDelegate:n}=l,r=Ht({usage:"search",sensitivity:"base"}),s=e.disabledBehavior,a=p.useMemo(()=>n||new ol({collection:t,disabledKeys:i,disabledBehavior:s,ref:o,collator:r}),[n,t,i,o,r,s]),{collectionProps:d}=il({...l,ref:o,selectionManager:e,keyboardDelegate:a});return{listProps:d}}class nl{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.iterable=e,t=t||new Set;let i=r=>{if(this.keyMap.set(r.key,r),r.childNodes&&(r.type==="section"||t.has(r.key)))for(let s of r.childNodes)i(s)};for(let r of e)i(r);let o,n=0;for(let[r,s]of this.keyMap)o?(o.nextKey=r,s.prevKey=o.key):(this.firstKey=r,s.prevKey=void 0),s.type==="item"&&(s.index=n++),o=s,o.nextKey=void 0;this.lastKey=o==null?void 0:o.key}}class k extends Set{constructor(e,t,i){super(e),e instanceof k?(this.anchorKey=t||e.anchorKey,this.currentKey=i||e.currentKey):(this.anchorKey=t,this.currentKey=i)}}function rl(l,e){if(l.size!==e.size)return!1;for(let t of l)if(!e.has(t))return!1;return!0}function sl(l){let{selectionMode:e="none",disallowEmptySelection:t,allowDuplicateSelectionEvents:i,selectionBehavior:o="toggle",disabledBehavior:n="all"}=l,r=p.useRef(!1),[,s]=p.useState(!1),a=p.useRef(null),d=p.useRef(null),[,u]=p.useState(null),b=p.useMemo(()=>Ye(l.selectedKeys),[l.selectedKeys]),h=p.useMemo(()=>Ye(l.defaultSelectedKeys,new k),[l.defaultSelectedKeys]),[c,g]=we(b,h,l.onSelectionChange),v=p.useMemo(()=>l.disabledKeys?new Set(l.disabledKeys):new Set,[l.disabledKeys]),[m,$]=p.useState(o);o==="replace"&&m==="toggle"&&typeof c=="object"&&c.size===0&&$("replace");let K=p.useRef(o);return p.useEffect(()=>{o!==K.current&&($(o),K.current=o)},[o]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:m,setSelectionBehavior:$,get isFocused(){return r.current},setFocused(x){r.current=x,s(x)},get focusedKey(){return a.current},get childFocusStrategy(){return d.current},setFocusedKey(x,C="first"){a.current=x,d.current=C,u(x)},selectedKeys:c,setSelectedKeys(x){(i||!rl(x,c))&&g(x)},disabledKeys:v,disabledBehavior:n}}function Ye(l,e){return l?l==="all"?"all":new k(l):e}function Qe(l){return null}Qe.getCollectionNode=function*(e,t){let{childItems:i,title:o,children:n}=e,r=e.title||e.children,s=e.textValue||(typeof r=="string"?r:"")||e["aria-label"]||"";!s&&!(t!=null&&t.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:r,textValue:s,"aria-label":e["aria-label"],hasChildNodes:al(e),*childNodes(){if(i)for(let a of i)yield{type:"item",value:a};else if(o){let a=[];ue.Children.forEach(n,d=>{a.push({type:"item",element:d})}),yield*a}}}};function al(l){return l.hasChildItems!=null?l.hasChildItems:!!(l.childItems||l.title&&ue.Children.count(l.children)>0)}let Ol=Qe;class cl{build(e,t){return this.context=t,We(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:i}=e;if(typeof t=="function"){if(!i)throw new Error("props.children was a function but props.items is missing");for(let o of e.items)yield*this.getFullNode({value:o},{renderer:t})}else{let o=[];ue.Children.forEach(t,r=>{o.push(r)});let n=0;for(let r of o){let s=this.getFullNode({element:r,index:n},{});for(let a of s)n++,yield a}}}getKey(e,t,i,o){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${o}${t.key}`;let n=t.value;if(n!=null){var r;let s=(r=n.key)!==null&&r!==void 0?r:n.id;if(s==null)throw new Error("No key found for item");return s}return o?`${o}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,i,o){let n=e.element;if(!n&&e.value&&t&&t.renderer){let a=this.cache.get(e.value);if(a&&(!a.shouldInvalidate||!a.shouldInvalidate(this.context))){a.index=e.index,a.parentKey=o?o.key:null,yield a;return}n=t.renderer(e.value)}if(ue.isValidElement(n)){let a=n.type;if(typeof a!="function"&&typeof a.getCollectionNode!="function"){let h=typeof n.type=="function"?n.type.name:n.type;throw new Error(`Unknown element <${h}> in collection.`)}let d=a.getCollectionNode(n.props,this.context),u=e.index,b=d.next();for(;!b.done&&b.value;){let h=b.value;e.index=u;let c=h.key;c||(c=h.element?null:this.getKey(n,e,t,i));let v=[...this.getFullNode({...h,key:c,index:u,wrapper:dl(e.wrapper,h.wrapper)},this.getChildState(t,h),i?`${i}${n.key}`:n.key,o)];for(let m of v){if(m.value=h.value||e.value,m.value&&this.cache.set(m.value,m),e.type&&m.type!==e.type)throw new Error(`Unsupported type <${ge(m.type)}> in <${ge(o.type)}>. Only <${ge(e.type)}> is supported.`);u++,yield m}b=d.next(v)}return}if(e.key==null)return;let r=this,s={type:e.type,props:e.props,key:e.key,parentKey:o?o.key:null,value:e.value,level:o?o.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:We(function*(){if(!e.hasChildNodes)return;let a=0;for(let d of e.childNodes()){d.key!=null&&(d.key=`${s.key}${d.key}`),d.index=a;let u=r.getFullNode(d,r.getChildState(t,d),s.key,s);for(let b of u)a++,yield b}})};yield s}constructor(){this.cache=new WeakMap}}function We(l){let e=[],t=null;return{*[Symbol.iterator](){for(let i of e)yield i;t||(t=l());for(let i of t)e.push(i),yield i}}}function dl(l,e){if(l&&e)return t=>l(e(t));if(l)return l;if(e)return e}function ge(l){return l[0].toUpperCase()+l.slice(1)}function ul(l,e,t){let i=p.useMemo(()=>new cl,[]),{children:o,items:n,collection:r}=l;return p.useMemo(()=>{if(r)return r;let a=i.build({children:o,items:n},t);return e(a)},[i,o,n,r,t,e])}function fl(l,e){return typeof e.getChildren=="function"?e.getChildren(l.key):l.childNodes}function hl(l){return pl(l,0)}function pl(l,e){if(e<0)return;let t=0;for(let i of l){if(t===e)return i;t++}}function Al(l){let e;for(let t of l)e=t;return e}function be(l,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let i=[...Xe(l,e),e],o=[...Xe(l,t),t],n=i.slice(0,o.length).findIndex((r,s)=>r!==o[s]);return n!==-1?(e=i[n],t=o[n],e.index-t.index):i.findIndex(r=>r===t)>=0?1:(o.findIndex(r=>r===e)>=0,-1)}function Xe(l,e){let t=[];for(;(e==null?void 0:e.parentKey)!=null;)e=l.getItem(e.parentKey),t.unshift(e);return t}class gl{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return this.state.selectionMode==="none"?!1:(e=this.getKey(e),this.state.selectedKeys==="all"?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(i=>t.has(i)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let i=this.collection.getItem(t);(!e||i&&be(this.collection,i,e)<0)&&(e=i)}return e==null?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let i=this.collection.getItem(t);(!e||i&&be(this.collection,i,e)>0)&&(e=i)}return e==null?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}e=this.getKey(e);let t;if(this.state.selectedKeys==="all")t=new k([e],e,e);else{let i=this.state.selectedKeys,o=i.anchorKey||e;t=new k(i,o,e);for(let n of this.getKeyRange(o,i.currentKey||e))t.delete(n);for(let n of this.getKeyRange(e,o))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let i=this.collection.getItem(e),o=this.collection.getItem(t);return i&&o?be(this.collection,i,o)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let i=[],o=e;for(;o;){let n=this.collection.getItem(o);if((n&&n.type==="item"||n.type==="cell"&&this.allowsCellSelection)&&i.push(o),o===t)return i;o=this.collection.getKeyAfter(o)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}if(e=this.getKey(e),e==null)return;let t=new k(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),!(this.disallowEmptySelection&&t.size===0)&&this.state.setSelectedKeys(t)}replaceSelection(e){if(this.selectionMode==="none"||(e=this.getKey(e),e==null))return;let t=this.canSelectItem(e)?new k([e],e,e):new k;this.state.setSelectedKeys(t)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new k;for(let i of e)if(i=this.getKey(i),i!=null&&(t.add(i),this.selectionMode==="single"))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=i=>{for(;i;){if(this.canSelectItem(i)){let o=this.collection.getItem(i);o.type==="item"&&e.push(i),o.hasChildNodes&&(this.allowsCellSelection||o.type!=="item")&&t(hl(fl(o,this.collection)).key)}i=this.collection.getKeyAfter(i)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new k)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;for(let i of t)if(!e.has(i))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let i=this.collection.getItem(e);return!(!i||!(i==null||(t=i.props)===null||t===void 0)&&t.isDisabled||i.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,i;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,i;return!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}constructor(e,t,i){this.collection=e,this.state=t;var o;this.allowsCellSelection=(o=i==null?void 0:i.allowsCellSelection)!==null&&o!==void 0?o:!1,this._isSelectAll=null}}function Rl(l){let{onExpandedChange:e}=l,[t,i]=we(l.expandedKeys?new Set(l.expandedKeys):void 0,l.defaultExpandedKeys?new Set(l.defaultExpandedKeys):new Set,e),o=sl(l),n=p.useMemo(()=>l.disabledKeys?new Set(l.disabledKeys):new Set,[l.disabledKeys]),r=ul(l,p.useCallback(a=>new nl(a,{expandedKeys:t}),[t]),null);return p.useEffect(()=>{o.focusedKey!=null&&!r.getItem(o.focusedKey)&&o.setFocusedKey(null)},[r,o.focusedKey]),{collection:r,expandedKeys:t,disabledKeys:n,toggleKey:a=>{i(bl(t,a))},setExpandedKeys:i,selectionManager:new gl(r,o)}}function bl(l,e){let t=new Set(l);return t.has(e)?t.delete(e):t.add(e),t}var ml=l=>{const e={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(e==null?void 0:e[l])||{}},yl=l=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[l],Fl=(l,e)=>{if(e.includes("-")){const[t]=e.split("-");if(t.includes(l))return!1}return!0},Ue=(l,e)=>{if(e.includes("-")){const[,t]=e.split("-");return`${l}-${t}`}return l};function vl(l){let[e,t]=we(l.isOpen,l.defaultOpen||!1,l.onOpenChange);const i=p.useCallback(()=>{t(!0)},[t]),o=p.useCallback(()=>{t(!1)},[t]),n=p.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:i,close:o,toggle:n}}const $l=1500,Ve=500;let G={},Kl=0,ie=!1,X=null,J=null;function xl(l={}){let{delay:e=$l,closeDelay:t=Ve}=l,{isOpen:i,open:o,close:n}=vl(l),r=p.useMemo(()=>`${++Kl}`,[]),s=p.useRef(),a=()=>{G[r]=b},d=()=>{for(let c in G)c!==r&&(G[c](!0),delete G[c])},u=()=>{clearTimeout(s.current),s.current=null,d(),a(),ie=!0,o(),X&&(clearTimeout(X),X=null),J&&(clearTimeout(J),J=null)},b=c=>{c||t<=0?(clearTimeout(s.current),s.current=null,n()):s.current||(s.current=setTimeout(()=>{s.current=null,n()},t)),X&&(clearTimeout(X),X=null),ie&&(J&&clearTimeout(J),J=setTimeout(()=>{delete G[r],J=null,ie=!1},Math.max(Ve,t)))},h=()=>{d(),a(),!i&&!X&&!ie?X=setTimeout(()=>{X=null,ie=!0,u()},e):i||u()};return p.useEffect(()=>()=>{clearTimeout(s.current),G[r]&&delete G[r]},[r]),{isOpen:i,open:c=>{!c&&e>0&&!s.current?h():u()},close:b}}function wl(l,e){let t=gt(l,{labelable:!0}),{hoverProps:i}=Ze({onHoverStart:()=>e==null?void 0:e.open(!0),onHoverEnd:()=>e==null?void 0:e.close()});return{tooltipProps:U(t,i,{role:"tooltip"})}}function Sl(l,e,t){let{isDisabled:i,trigger:o}=l,n=qe(),r=p.useRef(!1),s=p.useRef(!1),a=()=>{(r.current||s.current)&&e.open(s.current)},d=$=>{!r.current&&!s.current&&e.close($)};p.useEffect(()=>{let $=K=>{t&&t.current&&K.key==="Escape"&&(K.stopPropagation(),e.close(!0))};if(e.isOpen)return document.addEventListener("keydown",$,!0),()=>{document.removeEventListener("keydown",$,!0)}},[t,e]);let u=()=>{o!=="focus"&&(ye()==="pointer"?r.current=!0:r.current=!1,a())},b=()=>{o!=="focus"&&(s.current=!1,r.current=!1,d())},h=()=>{s.current=!1,r.current=!1,d(!0)},c=()=>{mt()&&(s.current=!0,a())},g=()=>{s.current=!1,r.current=!1,d(!0)},{hoverProps:v}=Ze({isDisabled:i,onHoverStart:u,onHoverEnd:b}),{focusableProps:m}=bt({isDisabled:i,onFocus:c,onBlur:g},t);return{triggerProps:{"aria-describedby":e.isOpen?n:void 0,...U(m,v,{onPointerDown:h,onKeyDown:h})},tooltipProps:{id:n}}}function Cl(l){var e,t;const i=yt(),[o,n]=vt(l,ke.variantKeys),{ref:r,as:s,isOpen:a,content:d,children:u,defaultOpen:b,onOpenChange:h,isDisabled:c,trigger:g,shouldFlip:v=!0,containerPadding:m=12,placement:$="top",delay:K=0,closeDelay:x=500,showArrow:C=!1,offset:M=7,crossOffset:S=0,isDismissable:R,shouldCloseOnBlur:I=!0,portalContainer:E,isKeyboardDismissDisabled:f=!1,updatePositionDeps:w=[],shouldCloseOnInteractOutside:T,className:L,onClose:F,motionProps:B,classNames:z,...Y}=o,V=s||"div",H=(t=(e=l==null?void 0:l.disableAnimation)!=null?e:i==null?void 0:i.disableAnimation)!=null?t:!1,y=xl({delay:K,closeDelay:x,isDisabled:c,defaultOpen:b,isOpen:a,onOpenChange:Z=>{h==null||h(Z),Z||F==null||F()}}),O=p.useRef(null),N=p.useRef(null),q=p.useId(),j=y.isOpen&&!c;p.useImperativeHandle(r,()=>$t(N));const{triggerProps:Se,tooltipProps:et}=Sl({isDisabled:c,trigger:g},y,O),{tooltipProps:Ce}=wl({isOpen:j,...U(o,et)},y),{overlayProps:Pe,placement:oe,updatePosition:tt}=Zt({isOpen:j,targetRef:O,placement:yl($),overlayRef:N,offset:C?M+3:M,crossOffset:S,shouldFlip:v,containerPadding:m});Dt(()=>{w.length&&tt()},w);const{overlayProps:Ee}=_t({isOpen:j,onClose:y.close,isDismissable:R,shouldCloseOnBlur:I,isKeyboardDismissDisabled:f,shouldCloseOnInteractOutside:T},N),ne=p.useMemo(()=>{var Z,re,Ie;return ke({...n,disableAnimation:H,radius:(Z=l==null?void 0:l.radius)!=null?Z:"md",size:(re=l==null?void 0:l.size)!=null?re:"md",shadow:(Ie=l==null?void 0:l.shadow)!=null?Ie:"sm"})},[Kt(n),H,l==null?void 0:l.radius,l==null?void 0:l.size,l==null?void 0:l.shadow]),lt=p.useCallback((Z={},re=null)=>({...U(Se,Z),ref:Ft(re,O),"aria-describedby":j?q:void 0}),[Se,j,q,y]),it=p.useCallback(()=>({ref:N,"data-slot":"base","data-open":_(j),"data-arrow":_(C),"data-disabled":_(c),"data-placement":Ue(oe,$),...U(Ce,Ee,Y),style:U(Pe.style,Y.style,o.style),className:ne.base({class:z==null?void 0:z.base}),id:q}),[ne,j,C,c,oe,$,Ce,Ee,Y,Pe,o,q]),ot=p.useCallback(()=>({"data-slot":"content","data-open":_(j),"data-arrow":_(C),"data-disabled":_(c),"data-placement":Ue(oe,$),className:ne.content({class:xt(z==null?void 0:z.content,L)})}),[ne,j,C,c,oe,$,z]);return{Component:V,content:d,children:u,isOpen:j,triggerRef:O,showArrow:C,portalContainer:E,placement:$,disableAnimation:H,isDisabled:c,motionProps:B,getTooltipContentProps:ot,getTriggerProps:lt,getTooltipProps:it}}var _e=wt((l,e)=>{const{Component:t,children:i,content:o,isOpen:n,portalContainer:r,placement:s,disableAnimation:a,motionProps:d,getTriggerProps:u,getTooltipProps:b,getTooltipContentProps:h}=Cl({...l,ref:e});let c;try{if(p.Children.count(i)!==1)throw new Error;if(!p.isValidElement(i))c=A.jsx("p",{...u(),children:i});else{const C=i;c=p.cloneElement(C,u(C.props,C.ref))}}catch{c=A.jsx("span",{}),At("Tooltip must have only one child node. Please, check your code.")}const{ref:g,id:v,style:m,...$}=b(),K=A.jsx("div",{ref:g,id:v,style:m,children:A.jsx(St,{features:Ct,children:A.jsx(Pt.div,{animate:"enter",exit:"exit",initial:"exit",variants:Lt.scaleSpring,...U(d,$),style:{...ml(s)},children:A.jsx(t,{...h(),children:o})})})});return A.jsxs(A.Fragment,{children:[c,a&&n?A.jsx(Le,{portalContainer:r,children:A.jsx("div",{ref:g,id:v,style:m,...$,children:A.jsx(t,{...h(),children:o})})}):A.jsx(Et,{children:n?A.jsx(Le,{portalContainer:r,children:K}):null})]})});_e.displayName="NextUI.Tooltip";var Bl=_e;export{$e as $,Fl as A,ml as B,Dl as C,Rl as D,Ol as E,Ml as a,Ll as b,ve as c,pl as d,fl as e,Al as f,hl as g,Ht as h,il as i,Ae as j,sl as k,gl as l,Ft as m,ul as n,Vt as o,Tl as p,je as q,le as r,_t as s,Bl as t,Zt as u,yl as v,At as w,ke as x,vl as y,Ue as z};
