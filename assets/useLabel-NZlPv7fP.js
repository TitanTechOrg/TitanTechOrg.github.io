import{V as $,r as u,av as p}from"./index-B7ShuJRA.js";const c=typeof document<"u"?$.useLayoutEffect:()=>{};function o(a){const t=u.useRef(null);return c(()=>{t.current=a},[a]),u.useCallback((...r)=>{const l=t.current;return l==null?void 0:l(...r)},[])}function y(a){let[t,r]=u.useState(a),l=u.useRef(null),e=o(()=>{if(!l.current)return;let n=l.current.next();if(n.done){l.current=null;return}t===n.value?e():r(n.value)});c(()=>{l.current&&e()});let d=o(n=>{l.current=n(t),e()});return[t,d]}let m=!!(typeof window<"u"&&window.document&&window.document.createElement),f=new Map;function i(a){let[t,r]=u.useState(a),l=u.useRef(null),e=p(t),d=u.useCallback(n=>{l.current=n},[]);return m&&(f.has(e)&&!f.get(e).includes(d)?f.set(e,[...f.get(e),d]):f.set(e,[d])),c(()=>{let n=e;return()=>{f.delete(n)}},[e]),u.useEffect(()=>{let n=l.current;n&&(l.current=null,r(n))}),e}function w(a,t){if(a===t)return a;let r=f.get(a);if(r)return r.forEach(e=>e(t)),t;let l=f.get(t);return l?(l.forEach(e=>e(a)),a):t}function I(a=[]){let t=i(),[r,l]=y(t),e=u.useCallback(()=>{l(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,l]);return c(e,[t,e,...a]),r}function x(a,t){let{id:r,"aria-label":l,"aria-labelledby":e}=a;return r=i(r),e&&l?e=[...new Set([r,...e.trim().split(/\s+/)])].join(" "):e&&(e=e.trim().split(/\s+/).join(" ")),!l&&!e&&t&&(l=t),{id:r,"aria-label":l,"aria-labelledby":e}}function E(a){let{id:t,label:r,"aria-labelledby":l,"aria-label":e,labelElementType:d="label"}=a;t=i(t);let n=i(),b={};r?(l=l?`${n} ${l}`:n,b={id:n,htmlFor:d==="label"?t:void 0}):!l&&!e&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let s=x({id:t,"aria-label":e,"aria-labelledby":l});return{labelProps:b,fieldProps:s}}export{E as $,w as a,I as b};
