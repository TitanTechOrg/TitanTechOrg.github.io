import{R as p,r as c,ao as v}from"./index-oUoaWPN3.js";const o=typeof document<"u"?p.useLayoutEffect:()=>{};var s;const x=(s=p.useInsertionEffect)!==null&&s!==void 0?s:o;function $(r){const t=c.useRef(null);return x(()=>{t.current=r},[r]),c.useCallback((...n)=>{const e=t.current;return e==null?void 0:e(...n)},[])}function R(r){let[t,n]=c.useState(r),e=c.useRef(null),l=$(()=>{if(!e.current)return;let a=e.current.next();if(a.done){e.current=null;return}t===a.value?l():n(a.value)});o(()=>{e.current&&l()});let f=$(a=>{e.current=a(t),l()});return[t,f]}let m=!!(typeof window<"u"&&window.document&&window.document.createElement),u=new Map,i;typeof FinalizationRegistry<"u"&&(i=new FinalizationRegistry(r=>{u.delete(r)}));function d(r){let[t,n]=c.useState(r),e=c.useRef(null),l=v(t),f=c.useRef(null);if(i&&i.register(f,l),m){const a=u.get(l);a&&!a.includes(e)?a.push(e):u.set(l,[e])}return o(()=>{let a=l;return()=>{i&&i.unregister(f),u.delete(a)}},[l]),c.useEffect(()=>{let a=e.current;return a&&n(a),()=>{a&&(e.current=null)}}),l}function w(r,t){if(r===t)return r;let n=u.get(r);if(n)return n.forEach(l=>l.current=t),t;let e=u.get(t);return e?(e.forEach(l=>l.current=r),r):t}function g(r=[]){let t=d(),[n,e]=R(t),l=c.useCallback(()=>{e(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,e]);return o(l,[t,l,...r]),n}function E(r,t){let{id:n,"aria-label":e,"aria-labelledby":l}=r;return n=d(n),l&&e?l=[...new Set([n,...l.trim().split(/\s+/)])].join(" "):l&&(l=l.trim().split(/\s+/).join(" ")),!e&&!l&&t&&(e=t),{id:n,"aria-label":e,"aria-labelledby":l}}function h(r){let{id:t,label:n,"aria-labelledby":e,"aria-label":l,labelElementType:f="label"}=r;t=d(t);let a=d(),b={};n&&(e=e?`${a} ${e}`:a,b={id:a,htmlFor:f==="label"?t:void 0});let y=E({id:t,"aria-label":l,"aria-labelledby":e});return{labelProps:b,fieldProps:y}}export{h as $,w as a,g as b};
