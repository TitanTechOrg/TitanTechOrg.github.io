import{r as u,R as $,X as C,aM as S}from"./index-Dil6rDqS.js";import{e as T,c as M,f as H,g as W}from"./chunk-736YWA4T-sA4_uwoq.js";var q=(e,n)=>{var t;let o=[];const i=(t=u.Children.map(e,r=>u.isValidElement(r)&&r.type===n?(o.push(r),null):r))==null?void 0:t.filter(Boolean),a=o.length>=0?o:void 0;return[i,a]};function h(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}function w(e,n){if(!e)return!1;let t=window.getComputedStyle(e),o=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return o&&n&&(o=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),o}function y(e,n){let t=e;for(w(t,n)&&(t=t.parentElement);t&&!w(t,n);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function L({children:e}){let n=u.useMemo(()=>({register:()=>{}}),[]);return $.createElement(T.Provider,{value:n},e)}const b=typeof document<"u"&&window.visualViewport,R=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let p=0,v;function I(e={}){let{isDisabled:n}=e;M(()=>{if(!n)return p++,p===1&&(H()?v=D():v=B()),()=>{p--,p===0&&v()}},[n])}function B(){return h(s(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),s(document.documentElement,"overflow","hidden"))}function D(){let e,n,t=c=>{e=y(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(n=s(e,"overscrollBehavior","contain"))},o=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},i=c=>{let l=c.target;x(l)&&l!==document.activeElement&&(c.preventDefault(),f(),l.style.transform="translateY(-2000px)",l.focus(),requestAnimationFrame(()=>{l.style.transform=""})),n&&n()},a=c=>{let l=c.target;x(l)&&(f(),l.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{l.style.transform="",b&&(b.height<window.innerHeight?requestAnimationFrame(()=>{E(l)}):b.addEventListener("resize",()=>E(l),{once:!0}))}))},r=null,f=()=>{if(r)return;let c=()=>{window.scrollTo(0,0)},l=window.pageXOffset,g=window.pageYOffset;r=h(m(window,"scroll",c),s(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),s(document.documentElement,"overflow","hidden"),s(document.body,"marginTop",`-${g}px`),()=>{window.scrollTo(l,g)}),window.scrollTo(0,0)},d=h(m(document,"touchstart",t,{passive:!1,capture:!0}),m(document,"touchmove",o,{passive:!1,capture:!0}),m(document,"touchend",i,{passive:!1,capture:!0}),m(document,"focus",a,!0));return()=>{n==null||n(),r==null||r(),d()}}function s(e,n,t){let o=e.style[n];return e.style[n]=t,()=>{e.style[n]=o}}function m(e,n,t,o){return e.addEventListener(n,t,o),()=>{e.removeEventListener(n,t,o)}}function E(e){let n=document.scrollingElement||document.documentElement,t=e;for(;t&&t!==n;){let o=y(t);if(o!==document.documentElement&&o!==document.body&&o!==t){let i=o.getBoundingClientRect().top,a=t.getBoundingClientRect().top;a>i+t.clientHeight&&(o.scrollTop+=a-i)}t=o.parentElement}}function x(e){return e instanceof HTMLInputElement&&!R.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const F=u.createContext({});function V(){var e;return(e=u.useContext(F))!==null&&e!==void 0?e:{}}const Y=$.createContext(null);function P(e){let n=C(),{portalContainer:t=n?null:document.body,isExiting:o}=e,[i,a]=u.useState(!1),r=u.useMemo(()=>({contain:i,setContain:a}),[i,a]),{getContainer:f}=V();if(!e.portalContainer&&f&&(t=f()),!t)return null;let d=e.children;return e.disableFocusManagement||(d=$.createElement(W,{restoreFocus:!0,contain:i&&!o},d)),d=$.createElement(Y.Provider,{value:r},$.createElement(L,null,d)),S.createPortal(d,t)}export{P as $,I as a,h as b,q as p};
