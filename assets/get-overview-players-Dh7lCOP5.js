import{aC as v,r as i,j as s,p as b,a_ as y,ah as j,ai as g,ag as N,a6 as S,a7 as C}from"./index-CENqs8IR.js";function E({options:l,label:a,placeholder:r="Select an option",selectKey:t,labelTextSize:c="text-base"}){const{selectedValues:m,setSelectedValue:p}=v(),[o,u]=i.useState(!1),d=i.useRef(null),f=i.useRef(null),n=m[t],w=()=>{u(e=>!e)},h=e=>{p(t,e===n?"":e),u(!1)};return i.useEffect(()=>{const e=x=>{d.current&&!d.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),i.useEffect(()=>{o&&f.current&&f.current.scrollIntoView({block:"nearest",inline:"nearest"})},[o]),s.jsx("div",{className:"group transition-background relative inline-flex w-full max-w-xs min-w-72 flex-col duration-150 motion-reduce:transition-none",children:s.jsxs("div",{className:"flex w-full flex-col",ref:d,children:[s.jsx(b,{onPress:w,className:"inline-flex w-full items-center justify-start px-3 py-7 shadow-xs outline-none",color:"primary",variant:"flat","aria-haspopup":"listbox","aria-expanded":o,children:s.jsxs("div",{className:"relative flex w-full items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"pointer-events-none absolute -top-3 left-0 z-10 block max-w-full text-xs text-ellipsis",children:a}),s.jsx("div",{className:"text-default-500 absolute -top-2 left-0 inline-flex h-full min-h-4 w-full pt-4 text-xs",children:n?l.find(e=>e.value===n)?.label:r})]}),s.jsx("div",{children:o?s.jsx(y,{className:"h-4 w-4"}):s.jsx(j,{className:"h-4 w-4"})})]})}),o&&s.jsx("ul",{className:"bg-content1 shadow-medium absolute top-full z-20 mt-2 max-h-48 w-full max-w-xs overflow-y-auto rounded-lg p-2 sm:max-h-80",style:{scrollbarWidth:"none",msOverflowStyle:"none"},role:"listbox","aria-labelledby":a,children:l.map(e=>s.jsx("li",{onClick:()=>h(e.value),className:`hover:bg-primary hover:text-primary-foreground mb-1 cursor-pointer rounded-lg px-2 py-4 last:mb-0 ${e.value===n?"bg-primary text-primary-foreground":""}`,role:"option","aria-selected":e.value===n,ref:e.value===n?f:null,children:s.jsxs("div",{className:`flex items-center justify-between ${c}`,children:[e.label,e.value===n&&s.jsx(g,{className:"h-4 w-4"})]})},e.value))})]})})}function R(l,a){return N({queryKey:["overview_players",l,a],queryFn:async()=>await O(l,a),enabled:!!l})}async function O(l,a){let r="";const t=new URLSearchParams;l&&t.append("raid_id",l),a&&t.append("cycle",String(a)),t.size&&(r+="?",r+=t);const c=C.overview+r;return await S.get(c)}export{E as C,R as u};
